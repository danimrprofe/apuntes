<!DOCTYPE html>
<html>
<head>
<title>README.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<ul>
<li><a href="#arduino">Arduino</a>
<ul>
<li><a href="#placa-arduino">Placa Arduino</a></li>
<li><a href="#componentes-de-la-placa">Componentes de la placa</a></li>
<li><a href="#microcontrolador">Microcontrolador</a></li>
<li><a href="#pines">Pines</a></li>
<li><a href="#pines-de-arduino">Pines de Arduino</a></li>
<li><a href="#instalaci%C3%B3n-ide">Instalaci√≥n IDE</a></li>
<li><a href="#primeras-pruebas-led">Primeras pruebas: LED</a></li>
<li><a href="#elementos-de-un-programa">Elementos de un programa</a></li>
<li><a href="#led">LED</a></li>
</ul>
</li>
<li><a href="#protoboard">Protoboard</a>
<ul>
<li><a href="#zonas">Zonas</a></li>
<li><a href="#canales-centrales">Canales centrales</a></li>
<li><a href="#tiras-laterales">Tiras laterales</a></li>
<li><a href="#desventajas">Desventajas</a></li>
</ul>
</li>
<li><a href="#conexi%C3%B3n-de-pines">Conexi√≥n de pines</a>
<ul>
<li><a href="#pinmode">Pinmode</a></li>
<li><a href="#escribir-en-pines">Escribir en pines</a></li>
</ul>
</li>
<li><a href="#motores">Motores</a>
<ul>
<li><a href="#motor-de-corriente-cont%C3%ADnua">Motor de corriente cont√≠nua</a></li>
<li><a href="#motor-paso-a-paso-mando">Motor paso a paso mando</a></li>
<li><a href="#motor-paso-a-paso">Motor paso a paso</a></li>
<li><a href="#control-mediante-bobinas">Control mediante bobinas</a></li>
<li><a href="#motor-servo">Motor servo</a></li>
</ul>
</li>
<li><a href="#luces">Luces</a>
<ul>
<li><a href="#led-rgb">LED RGB</a></li>
<li><a href="#tira-de-leds">Tira de LEDs</a></li>
<li><a href="#7-segments-1-d%C3%ADgito">7 segments (1 d√≠gito)</a></li>
<li><a href="#7-segments-4-d%C3%ADgitos">7 segments (4 d√≠gitos)</a></li>
<li><a href="#pantalla-lcd">Pantalla LCD</a></li>
<li><a href="#led-con-74hc595">LED con 74HC595</a></li>
</ul>
</li>
<li><a href="#interruptor-de-bola">Interruptor de bola</a>
<ul>
<li><a href="#componentes-requeridos">Componentes Requeridos</a></li>
<li><a href="#funcionamiento">Funcionamiento</a></li>
<li><a href="#conexi%C3%B3n-4">Conexi√≥n</a></li>
<li><a href="#esquema-5">Esquema</a></li>
<li><a href="#diagrama-de-conexiones">Diagrama de conexiones</a></li>
<li><a href="#c%C3%B3digo-5">C√≥digo</a></li>
</ul>
</li>
<li><a href="#boton">Boton</a>
<ul>
<li><a href="#componentes">Componentes</a></li>
<li><a href="#esquema-de-conexi%C3%B3n-1">Esquema de conexi√≥n</a></li>
<li><a href="#diagrama-de-cableado-7">Diagrama de cableado</a></li>
<li><a href="#las-conexiones-que-vamos-a-tener-que-realizar-son-las-siguientes">Las conexiones que vamos a tener que realizar son las siguientes:</a></li>
<li><a href="#explicaci%C3%B3n-del-c%C3%B3digo">Explicaci√≥n del c√≥digo</a></li>
</ul>
</li>
<li><a href="#conexi%C3%B3n-a-tierra">Conexi√≥n a tierra</a></li>
<li><a href="#funci%C3%B3n-loop-1">Funci√≥n Loop</a>
<ul>
<li><a href="#c%C3%B3digo-completo">C√≥digo completo</a></li>
</ul>
</li>
<li><a href="#joystick-anal%C3%B3gico">Joystick anal√≥gico</a>
<ul>
<li><a href="#pines-del-joystick">Pines del Joystick</a></li>
<li><a href="#esquema-6">Esquema</a></li>
<li><a href="#diagrama-de-cableado-8">Diagrama de cableado</a></li>
<li><a href="#c%C3%B3digo-6">C√≥digo</a></li>
<li><a href="#comprobar-funcionamiento-1">Comprobar funcionamiento</a></li>
</ul>
</li>
<li><a href="#m%C3%B3dulo-de-receptor-ir">M√≥dulo de receptor IR</a>
<ul>
<li><a href="#resumen-1">Resumen</a></li>
<li><a href="#qu%C3%A9-podemos-medir">¬øQu√© podemos medir?</a></li>
<li><a href="#esquema-de-conexiones">Esquema de conexiones</a></li>
<li><a href="#diagrama-de-cableado-9">Diagrama de cableado</a></li>
<li><a href="#montaje-2">Montaje</a></li>
<li><a href="#visualizar-datos-en-el-monitor">Visualizar datos en el monitor</a></li>
</ul>
</li>
<li><a href="#rel%C3%A9">Rel√©</a>
<ul>
<li><a href="#rel%C3%A9-con-motor-de-coche-enarduino">Rel√© con motor de coche en<code>Arduino</code></a></li>
</ul>
</li>
<li><a href="#sensors">Sensors</a>
<ul>
<li><a href="#sensor-humedad-temperatura-dht11">Sensor humedad temperatura DHT11</a></li>
<li><a href="#sensor-luz-fotocelula">Sensor luz (fotocelula)</a></li>
<li><a href="#sensor-ultrasonico">Sensor ultrasonico</a></li>
<li><a href="#termistor">Termistor</a></li>
</ul>
</li>
<li><a href="#esp8266-nodemcu">ESP8266 NodeMCU</a>
<ul>
<li><a href="#componentes-1">Componentes</a></li>
<li><a href="#aplicaciones-principales">Aplicaciones principales</a></li>
<li><a href="#c%C3%B3digo-fuente-1">C√≥digo fuente</a></li>
<li><a href="#subida">Subida</a></li>
<li><a href="#salida-monitor-serie">Salida monitor serie</a></li>
<li><a href="#wifi-bridge">Wifi bridge</a></li>
</ul>
</li>
<li><a href="#projecte-wled">Projecte WLED</a></li>
<li><a href="#installaci%C3%B3">Instal¬∑laci√≥</a></li>
<li><a href="#connexi%C3%B3-de-la-tira">Connexi√≥ de la tira</a></li>
<li><a href="#programari-m%C3%B2bil">Programari m√≤bil</a></li>
<li><a href="#control">Control</a></li>
</ul>
<h1 id="arduino">Arduino</h1>
<p><code>Arduino</code> es una plataforma de <code>hardware libre</code>, basada en una placa con un microcontrolador y un entorno de desarrollo.</p>
<p>Hardware libre es aquel cuyas especificaciones y diagramas esquem√°ticos son de acceso p√∫blico</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-16-35-45.png" alt=""></p>
<p>Arduino est√° dise√±ado para permitir que los usuarios creen proyectos con una programaci√≥n sencilla, sin necesidad de conocimientos previos de electr√≥nica.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2023-03-09-10-39-22.png" alt=""></p>
<h2 id="placa-arduino">Placa Arduino</h2>
<p><code>Arduino Uno</code> es una placa de desarrollo que incorpora un microcontrolador.</p>
<p>La placa Arduino contiene un <code>microcontrolador</code>, que es una peque√±a computadora que puede leer los datos de los sensores que se conectan, realizar algunas operaciones matem√°ticas y controlar los dispositivos a trav√©s de los pines de salida.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-30-15-48-01.png" alt="imagen"></p>
<h2 id="componentes-de-la-placa">Componentes de la placa</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-00-12.png" alt=""></p>
<h2 id="microcontrolador">Microcontrolador</h2>
<p>El <code>microcontrolador</code> puede ser programado para recibir instrucciones. Esto significa que los usuarios pueden <code>programar</code> la placa para que realice cualquier tarea que deseen, desde controlar motores hasta leer datos de sensores.</p>
<p>El Arduino Uno utiliza un microcontrolador <code>ATmega328P</code></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-20-00.png" alt=""></p>
<table>
<thead>
<tr>
<th>Caracter√≠sticas</th>
<th>Detalles</th>
</tr>
</thead>
<tbody>
<tr>
<td>Microcontrolador üïπÔ∏è</td>
<td>ATmega328P</td>
</tr>
<tr>
<td>Arquitectura üèóÔ∏è</td>
<td>AVR (8 bits)</td>
</tr>
<tr>
<td>Frecuencia de Reloj ‚è∞</td>
<td>16 MHz</td>
</tr>
<tr>
<td>Memoria Flash üíæ</td>
<td>32 kilobytes</td>
</tr>
<tr>
<td>Memoria RAM üß†</td>
<td>2 kilobytes</td>
</tr>
<tr>
<td>Memoria EEPROM üìÇ</td>
<td>1 kilobyte</td>
</tr>
<tr>
<td>Entradas/Salidas Digitales üß©</td>
<td>S√≠ (pines digitales de E/S)</td>
</tr>
<tr>
<td>Entradas Anal√≥gicas üìè</td>
<td>S√≠ (pines anal√≥gicos de E/S)</td>
</tr>
<tr>
<td>Comunicaci√≥n Serial üîÑ</td>
<td>S√≠ (pines TX/RX para comunicaci√≥n serial)</td>
</tr>
</tbody>
</table>
<h2 id="pines">Pines</h2>
<p>Un &quot;pin&quot; se refiere a un punto de conexi√≥n en un dispositivo electr√≥nico que permite la entrada o salida de una se√±al el√©ctrica.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-18-00.png" alt=""></p>
<h2 id="pines-de-arduino">Pines de Arduino</h2>
<p>Los pines con los que vamos a trabajar nosotros son:</p>
<p>Pines de Alimentaci√≥n:</p>
<ul>
<li>Vin (Voltage In): Este pin se utiliza para alimentar la placa con un voltaje externo cuando no se est√° utilizando el puerto USB. La tensi√≥n recomendada es de 7 a 12V.</li>
<li>5V: Este pin proporciona una salida de 5 voltios cuando la placa est√° alimentada a trav√©s del puerto USB o del conector de alimentaci√≥n externa.</li>
<li>3.3V: Proporciona una salida de 3.3 voltios.</li>
<li>Pines de Tierra (GND): Hay varios pines GND en la placa, que se utilizan como conexiones a tierra.</li>
<li>Pines de Entrada/Salida Digital (D2 a D13): Pueden usarse como entradas o salidas digitales. D2 a D13 tambi√©n pueden utilizarse como salidas PWM (modulaci√≥n de ancho de pulso) para controlar la intensidad de la se√±al.</li>
<li>Pines Anal√≥gicos (A0 a A5): Son pines de entrada anal√≥gica que permiten leer se√±ales anal√≥gicas, como las provenientes de sensores de luz, temperatura, etc.</li>
</ul>
<h2 id="instalaci%C3%B3n-ide">Instalaci√≥n IDE</h2>
<p>El <strong>Entorno de desarrollo integrado (IDE) de<code>Arduino</code></strong> es el software de la plataforma<code>Arduino</code>. En esta lecci√≥n, usted aprender√° c√≥mo configurar tu ordenador para usar<code>Arduino</code> y c√≥mo establecer sobre las lecciones que siguen.</p>
<p>Paso 1: Ir a https://www.arduino.cc/en/Main/Software y a continuaci√≥n de la p√°gina.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-15-22-08.png" alt=""></p>
<p>La versi√≥n disponible en este sitio web es generalmente la √∫ltima versi√≥n y la versi√≥n actual puede ser m√°s reciente que la versi√≥n en el cuadro.</p>
<p>Paso 2 : Descargar el desarrollo software que es compatible con el sistema operativo del ordenador. Windows tomar como un ejemplo aqu√≠</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image7.jpeg" alt="imagen"></p>
<p>Haga click en Windows Installer.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image8.jpeg" alt="imagen"></p>
<p>Haga click en DESCARGAR (JUST DOWNLOAD).</p>
<p>Tambi√©n est√° disponible en el material que nos proporciona la versi√≥n 1.8.0, y las versiones de nuestros materiales son las √∫ltimas versiones cuando se hizo este manual.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image9.jpeg" alt="imagen"></p>
<p>Instalaci√≥n de<code>Arduino</code> (Windows)</p>
<p>Instalar<code>Arduino</code> con el exe. Paquete de instalaci√≥n.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image10.png" alt="imagen"></p>
<p>Haga click en I Agree to see de esta ventana</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image11.jpeg" alt="imagen"></p>
<p>Click Next</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image12.jpeg" alt="imagen"></p>
<p>Puede pulsar examinar... elegir una ruta de instalaci√≥n o directamente en el directorio que desee.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image13.jpeg" alt="imagen"></p>
<p>Haga Click en Install para comenzar la instalaci√≥n</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image14.jpeg" alt="imagen"></p>
<p>Por √∫ltimo, aparece la siguiente ventana, haga clic en Install para finalizar la instalaci√≥n.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image15.jpeg" alt="imagen"></p>
<p>A continuaci√≥n, aparece el siguiente icono en el escritorio</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image16.jpeg" alt="imagen"></p>
<p>Haga doble clic para entrar en el entorno de desarrollo deseado</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/image.png" alt="Alt text"></p>
<h2 id="primeras-pruebas-led">Primeras pruebas: LED</h2>
<p>Vamos a aprender a crear un programa y volcarlo en la placa Arduino.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-29-16-46-42.png" alt="imagen"></p>
<p>La placa Arduino cuenta con un LED luminoso que puede ser controlado. Este LED est√° integrado en la propia placa.</p>
<p>Cuando la placa se conecta a un enchufe USB, el LED parpadea. Este parpadeo se debe a que las placas suelen ser enviadas con un programa preinstalado llamado &quot;Blink&quot;.</p>
<h3 id="programas-de-ejemplo">Programas de ejemplo</h3>
<p>El IDE de <code>Arduino</code> incluye una gran colecci√≥n de programas de ejemplo para utilizar directamente.  Esto incluye un ejemplo para hacer el parpadeo del <code>LED</code>.</p>
<h3 id="ejemplo-programa-blink">Ejemplo programa Blink</h3>
<p>Cargar el programa de 'Blink' que encontrar√°s en el sistema de men√∫s del IDE bajo <code>archivo &gt;  ejemplos &gt; 01 conceptos b√°sicos</code></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image39.jpeg" alt="imagen"></p>
<h3 id="blink">Blink</h3>
<p>Cuando se abre la ventana de dibujo, agrandarla para que puedan ver el dibujo completo en la ventana.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image40.jpeg" alt="imagen"></p>
<p>Los <code>programas de ejemplo</code> incluidos con el IDE de<code>Arduino</code> son de 's√≥lo lectura'. Es decir, puedes subirlo a Arduino, pedo no se pueden guardar una vez modificados.</p>
<h3 id="guardar-c%C3%B3digo-en-otro-archivo">Guardar c√≥digo en otro archivo</h3>
<p>En el men√∫ archivo en el IDE de<code>Arduino</code>, seleccione <code>Guardar como.</code> y guarde el dibujo con  el nombre <code>parpadeo</code></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image41.jpeg" alt="imagen"></p>
<p>A continuaci√≥n deberemos elegir una carpeta en la que guardar el programa.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image42.jpeg" alt="imagen"></p>
<h3 id="abrir-un-archivo-de-programa">Abrir un archivo de programa</h3>
<p>Para abrir un archivo que hemos guardado con anterioridad, podemos simplemente ir a <code>archivo &gt; abrir</code> o tambi√©n a <code>archivo &gt; abrir reciente</code>.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image43.jpeg" alt="imagen"></p>
<h3 id="conectar-placa-al-pc">Conectar placa al PC</h3>
<p>Conecte la placa de<code>Arduino</code> al ordenador con el cable USB y compruebe que la <strong>Board Type</strong> y <strong>Puerto serie</strong> est√°n ajustados correctamente.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-08-17-04-14.png" alt=""></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image44.png" alt="imagen"></p>
<h3 id="nota">Nota</h3>
<ul>
<li>El tipo de tarjeta y puerto Serial aqu√≠ no son necesariamente la misma que se muestra en la imagen.</li>
<li>El puerto serie (<code>COM</code>) puede ser diferente, del tipo COM3 o COM4 en su ordenador.</li>
</ul>
<p>El IDE de<code>Arduino</code> mostrar√° la configuraci√≥n actual en la parte inferior de la  ventana.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image45.jpeg" alt="imagen"></p>
<h3 id="subir-c%C3%B3digo-a-arduino">Subir c√≥digo a Arduino</h3>
<p>Para que Arduino lo ejecute, necesitamos enviarle a trav√©s del cable USB el c√≥digo que queremos que haga.</p>
<p>Para ello, debemos hacer clic en el bot√≥n <strong>subir</strong>. El segundo bot√≥n de la izquierda en la barra de herramientas.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image46.jpeg" alt="imagen"></p>
<h3 id="subiendo-c%C3%B3digo">Subiendo c√≥digo</h3>
<p>Al cargar el c√≥digo, al observar el √°rea de estado del IDE, se apreciar√° una barra de progreso junto con una serie de mensajes. Inicialmente, se mostrar√° el mensaje 'Compilando bosquejo...'. Este proceso convierte el esbozo en un formato adecuado para cargar en la placa.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image47.jpeg" alt="imagen"></p>
<p>Luego, el estado cambiar√° a 'Subiendo'. En este momento, los LEDs de la Arduino deber√≠an empezar a parpadear, indicando la transferencia del esbozo.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image48.jpeg" alt="imagen"></p>
<p>Finalmente, el estado cambiar√° a 'Listo' ('Done').</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image49.jpeg" alt="imagen"></p>
<h3 id="errores">Errores</h3>
<p>El otro mensaje nos dice que el <strong>programa</strong> est√° utilizando 928 bytes de 32.256 bytes  disponibles. Despu√©s de la etapa de compilaci√≥n Sketch... podr√≠a obtener el siguiente mensaje de error:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image50.jpeg" alt="imagen"></p>
<p>Puede significar que su Junta no est√° conectado a todos, o no se ha instalado los drivers (si es necesario) o que se ha seleccionado el puerto serial incorrecto.</p>
<h3 id="comprobar-funcionamiento">Comprobar funcionamiento</h3>
<p>Una vez completada la carga, la placa se debe reiniciar y el led comenzar a parpadear.</p>
<h2 id="elementos-de-un-programa">Elementos de un programa</h2>
<h3 id="comentarios">Comentarios</h3>
<ul>
<li>Todo entre /* y */ en la parte superior del <strong>programa</strong> es un Comentario de bloque; explica lo que el <strong>programa</strong> es para.</li>
<li>Los comentarios de una sola l√≠nea comienzan con // y hasta el final de esa l√≠nea se considera un comentario.</li>
</ul>
<h3 id="crear-variables">Crear variables</h3>
<p>La primera l√≠nea de c√≥digo es:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> led = <span class="hljs-number">13</span>;
</div></code></pre>
<p>Creamos una variable con un nombre y guardamos el n√∫mero de pin al que el LED est√°  conectado.</p>
<h3 id="funci%C3%B3n-setup">Funci√≥n Setup</h3>
<p>A continuaci√≥n, se presenta la funci√≥n de 'configuraci√≥n' en el c√≥digo. Esta funci√≥n se ejecuta al presionar el bot√≥n de <code>reset</code> y cada vez que la placa Arduino se reinicia, ya sea por aplicaci√≥n de energ√≠a inicial o despu√©s de cargar un nuevo <strong>programa</strong>.</p>
<p>En cada programa de Arduino, es esencial incluir una funci√≥n <strong>setup</strong> (configuraci√≥n), y las instrucciones espec√≠ficas se colocan entre las llaves { y }. En este caso, el comando dentro de la funci√≥n setup indica a la placa Arduino que el pin LED se usar√° como salida, seg√∫n lo se√±ala el comentario.</p>
<blockquote>
<p>Void indica que la funci√≥n setup no devuelve ning√∫n valor</p>
</blockquote>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// Inicializa el pin digital como salida.</span>
<span class="hljs-built_in">pinMode</span>(led, <span class="hljs-literal">OUTPUT</span>);
}
</div></code></pre>
<p>Cada programa<code>Arduino</code> debe tener una funci√≥n de <strong>setup</strong> (configuraci√≥n), y las instrucciones que contendr√° se insertan entre las llaves { y }.</p>
<p>En este caso, es un comando, que, como dice el comentario dice la placa<code>Arduino</code> que vamos  a utilizar el pin LED como salida.</p>
<h3 id="funci%C3%B3n-loop">Funci√≥n loop</h3>
<p>Tambi√©n es obligatorio para un boceto tener una funci√≥n de <strong>loop</strong>. A diferencia de la funci√≥n  de <strong>setup</strong> que se ejecuta s√≥lo una vez, despu√©s de un reset, la funci√≥n <strong>loop</strong>, despu√©s que haya terminado de ejecutar sus comandos, empezar inmediatamente otra vez.</p>
<h3 id="explicaci%C3%B3n-loop">Explicaci√≥n loop</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">digitalWrite</span>(led, <span class="hljs-literal">HIGH</span>); <span class="hljs-comment">// Encienda el LED (alto es el nivel de voltaje)</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// Espere un segundo</span>
  <span class="hljs-built_in">digitalWrite</span>(led, <span class="hljs-literal">LOW</span>); <span class="hljs-comment">// Apagar el LED por lo que la tensi√≥n baja</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// Espere un segundo</span>
}
</div></code></pre>
<p>Dentro de la funci√≥n <strong>loop</strong>, los comandos en primer lugar activar el pin del LED (alto), girar a 'retraso' de 1000 milisegundos (1 segundo), entonces el pin LED apagado y pausa para  otro segundo.</p>
<h3 id="cambiar-la-frecuencia-de-parpadeo">Cambiar la frecuencia de parpadeo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image51.jpeg" alt="imagen"></p>
<p>Ahora vas a que el LED parpadee m√°s r√°pido. Como puede haber adivinado, la clave de esto radica en cambiar el par√°metro () para el comando <code>delay</code>.</p>
<h3 id="variar-retardo">Variar retardo</h3>
<p>Este per√≠odo de retardo en milisegundos, as√≠ que si desea que el LED parpadee dos veces tan r√°pidamente, cambiar el valor de 1000 a 500. Esto entonces pausa durante medio segundo cada retraso en lugar de un segundo entero.</p>
<p>Sube otra vez el <strong>programa</strong> y ver√°s que el LED comienza a parpadear m√°s r√°pidamente.</p>
<h2 id="led">LED</h2>
<p>Aprenderemos a cambiar el <code>brillo</code> de un LED usando diferentes valores  de resistencia.</p>
<h3 id="conexi%C3%B3n-de-la-placa-arduino-al-ordenador">Conexi√≥n de la Placa Arduino al Ordenador</h3>
<p>Para programar la Placa Arduino mediante el IDE de Arduino, es necesario establecer una conexi√≥n f√≠sica entre la placa y el ordenador. Siga estos pasos para lograr la conexi√≥n adecuada:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-09-08-09-16.png" alt=""></p>
<ol>
<li>Utilice un <code>cable USB</code> para conectar la Placa Arduino al puerto USB de su ordenador.</li>
<li>Abra el <code>IDE de Arduino</code> en su ordenador</li>
<li>Escriba o cargue el <code>programa</code> que desea transferir a la placa.</li>
<li>Verifique que la Placa Arduino seleccionada en el IDE coincida con el modelo f√≠sico que est√° utilizando. Puede seleccionar la placa desde la pesta√±a <code>&quot;Herramientas&quot; &gt; &quot;Placa&quot;</code> en el IDE.</li>
<li>Seleccione el puerto COM al que est√° conectada la Placa Arduino. Esto tambi√©n se encuentra en la pesta√±a <code>&quot;Herramientas&quot; &gt; &quot;Puerto&quot;</code> en el IDE.</li>
<li>Haga clic en el bot√≥n de carga (&quot;Upload&quot;) en el IDE para transferir el programa a la Placa Arduino.</li>
</ol>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-15-30-38.png" alt=""></p>
<h1 id="protoboard">Protoboard</h1>
<p>Un <strong>protoboard</strong> permite crear prototipos de circuitos de forma r√°pida, sin necesidad de soldar las  conexiones. A continuaci√≥n un ejemplo.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-23-12.png" alt=""></p>
<p>Las protoboard est√°n compuestas por un n√∫mero determinado de pines, dispuestos en filas y columnas, a los que podemos conectar diferentes cables y componentes.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image52.jpeg" alt="imagen"></p>
<p>Las <strong>protoboard</strong> vienen en varios tama√±os y configuraciones. La clase m√°s simple es s√≥lo una rejilla de agujeros en un bloque de pl√°stico. En el interior son tiras de metal que proporcionan una conexi√≥n el√©ctrica entre los agujeros en las filas m√°s cortas.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-13-10-23-10.png" alt="imagen"></p>
<p>Conectando las patillas de dos componentes diferentes de la <strong>misma fila</strong> quedan unidos el√©ctricamente.</p>
<h2 id="zonas">Zonas</h2>
<p>Existen dos zonas principales. La zona de alimentaci√≥n, y la zona central. Todo lo que pase por la misma l√≠nea, est√° interconectado el√©ctricamente.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-12-09-09.png" alt=""></p>
<h2 id="canales-centrales">Canales centrales</h2>
<p>Los canales centrales indican que no est√°n conectados ambos lados. Lo que significa, puede insertar un chip con las patillas a ambos lados del canal sin conectarlos juntos.</p>
<h2 id="tiras-laterales">Tiras laterales</h2>
<ul>
<li>Algunos <code>protoboards</code> tienen dos tiras de agujeros que corre a lo largo de los bordes laterales del tablero.</li>
<li>Estas tiras se denominan <code>carriles</code> y le permiten alimentar a muchos componentes o puntos en el tablero.</li>
<li>Proporcionan una manera para conectar una tensi√≥n com√∫n. Son generalmente en pares para + 5 voltios y tierra.</li>
</ul>
<h2 id="desventajas">Desventajas</h2>
<p>Si bien son protoboards para prototipos, tienen algunas limitaciones. Porque las conexiones son temporales y de acople, no son tan fiables como conexiones soldadas. Si tienes problemas intermitentes con un circuito, puede ser debido a una mala conexi√≥n en una protoboard.</p>
<h1 id="conexi%C3%B3n-de-pines">Conexi√≥n de pines</h1>
<h2 id="pinmode">Pinmode</h2>
<p>Configuraci√≥n de Pines (pinMode)
La funci√≥n pinMode se utiliza para configurar un pin como entrada o salida. La sintaxis es la siguiente:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">pinMode</span>(pin, mode);
</div></code></pre>
<ul>
<li><code>pin</code>: El n√∫mero del pin que se va a configurar.</li>
<li><code>mode</code>: Puede ser INPUT para configurar el pin como entrada o OUTPUT para configurarlo como salida.</li>
</ul>
<h2 id="escribir-en-pines">Escribir en pines</h2>
<p>En Arduino, digitalWrite, analogWrite, y la configuraci√≥n de pines son funciones clave para controlar la entrada y salida digital y anal√≥gica. Aqu√≠ tienes una explicaci√≥n de cada uno:</p>
<h3 id="digitalwritepin-value">digitalWrite(pin, value)</h3>
<p>La funci√≥n digitalWrite se utiliza para establecer el estado de un pin digital en Arduino. Puede ser usado para configurar un pin como alto (HIGH o 1) o bajo (LOW o 0). La sintaxis es la siguiente:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">digitalWrite</span>(pin, value);
</div></code></pre>
<ul>
<li>pin: El n√∫mero del pin al que se le quiere cambiar el estado.
value: El estado que se desea asignar al pin, que puede ser HIGH (1) o LOW (0).</li>
</ul>
<p>Ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> ledPin = <span class="hljs-number">13</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">pinMode</span>(ledPin, <span class="hljs-literal">OUTPUT</span>); <span class="hljs-comment">// Configura el pin como salida</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">digitalWrite</span>(ledPin, <span class="hljs-literal">HIGH</span>); <span class="hljs-comment">// Enciende el LED conectado al pin 13</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);                <span class="hljs-comment">// Espera 1 segundo</span>
  <span class="hljs-built_in">digitalWrite</span>(ledPin, <span class="hljs-literal">LOW</span>);  <span class="hljs-comment">// Apaga el LED</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);                <span class="hljs-comment">// Espera 1 segundo</span>
}
</div></code></pre>
<h3 id="analogwritepin-value">analogWrite(pin, value)</h3>
<p>La funci√≥n analogWrite se utiliza para generar una se√±al PWM (Modulaci√≥n de Ancho de Pulso) en un pin espec√≠fico. Aunque se le denomina &quot;analogWrite&quot;, en realidad est√° generando una se√±al digital con una frecuencia determinada. La sintaxis es similar a digitalWrite:</p>
<pre class="hljs"><code><div><span class="hljs-built_in">analogWrite</span>(pin, value);
</div></code></pre>
<ul>
<li>pin: El n√∫mero del pin al que se le quiere aplicar la se√±al PWM.</li>
<li>value: El valor de la amplitud de la se√±al PWM, que va de 0 (sin se√±al) a 255 (se√±al m√°xima).</li>
</ul>
<p>Ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> ledPin = <span class="hljs-number">9</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">pinMode</span>(ledPin, <span class="hljs-literal">OUTPUT</span>); <span class="hljs-comment">// Configura el pin como salida</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">analogWrite</span>(ledPin, <span class="hljs-number">128</span>); <span class="hljs-comment">// Establece la se√±al PWM al 50%</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);              <span class="hljs-comment">// Espera 1 segundo</span>
}
</div></code></pre>
<h1 id="motores">Motores</h1>
<p>Els motors d'Arduino s√≥n dispositius que permeten a una placa Arduino controlar el moviment mec√†nic d'un sistema. Els motors poden ser de diferents tipus i formes, i poden ser controlats per la placa Arduino a trav√©s de diferents circuits i protocols.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-24-57.png" alt=""></p>
<p>Els motors m√©s comuns utilitzats amb Arduino s√≥n els **motors de corrent continu **(DC) i els <strong>servomotors</strong>.</p>
<ul>
<li>Els <a href="motor_CC.md">motors de corrent continu</a> s√≥n motors que giren en una direcci√≥ o altra depenent del sentit de la corrent que passa per ells, i poden ser controlats a trav√©s d'un circuit que permet variar la tensi√≥ aplicada al motor.</li>
<li>Els <a href="motor-servo.md">servomotors</a>, d'altra banda, s√≥n motors que poden ser controlats amb precisi√≥ per a posicionar-se en un determinat angle, i s√≥n utilitzats en molts projectes de rob√≤tica i control de moviment.</li>
<li>Els <a href="motor_paso_a_paso.md">motors pas a pas</a> s√≥n un tipus de motor que es caracteritza per moure's en increments precisos de posici√≥ en lloc de girar continuament</li>
</ul>
<h2 id="motor-de-corriente-cont%C3%ADnua">Motor de corriente cont√≠nua</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-25-39.png" alt=""></p>
<p>La fuerza m√°xima que puede generar un motor peque√±o de corriente continua para proyectos de electr√≥nica depende de varios factores, como el dise√±o y las especificaciones del motor. Sin embargo, en general, los motores peque√±os de corriente continua para proyectos de electr√≥nica suelen tener una fuerza m√°xima relativamente baja.</p>
<p>La fuerza generada por un motor de corriente continua est√° relacionada con su <strong>torque</strong>. El torque es una medida de la capacidad del motor para generar una fuerza de rotaci√≥n. Los motores peque√±os para proyectos de electr√≥nica generalmente tienen un torque bajo y est√°n dise√±ados para aplicaciones de baja carga, como mover peque√±os mecanismos o generar movimiento en juguetes peque√±os.</p>
<p>El <strong>torque m√°ximo</strong> de un motor se especifica en su datasheet o hoja de datos proporcionada por el fabricante. Puede estar en unidades como gramos-cent√≠metro (g¬∑cm) o milinewton-metro (mN¬∑m). Es importante tener en cuenta que el torque m√°ximo disminuye a medida que aumenta la velocidad de rotaci√≥n del motor.</p>
<h3 id="placa-de-fuente-de-alimentaci%C3%B3n">Placa de fuente de alimentaci√≥n</h3>
<p>El peque√±o motor de corriente continua es probable que use m√°s energ√≠a que la que <code>Arduino</code> puede suministrar. Si tratamos de conectar el motor directamente a un pin, podr√≠amos da√±arlo. Para ello usar un <strong>m√≥dulo de alimentaci√≥n</strong> que proporciona electricidad al motor.</p>
<h3 id="especificaciones">Especificaciones</h3>
<table>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Voltaje de entrada</td>
<td>6.5-9v (CC)</td>
</tr>
<tr>
<td>Voltaje de salida</td>
<td>3.3V / 5v</td>
</tr>
<tr>
<td>M√°xima corriente de salida</td>
<td>700 mA</td>
</tr>
</tbody>
</table>
<h3 id="configuraci%C3%B3n-de-voltaje">Configuraci√≥n de voltaje</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image140.jpeg" alt="imagen"></p>
<p>La izquierda y derecha de la tensi√≥n de salida puede configurarse independientemente. Para seleccionar la tensi√≥n de salida, mover el puente a los pines correspondientes. Nota: indicador de energ√≠a LED y los carriles de la energ√≠a de protoboard no se enciende si ambos puentes est√°n en la posici√≥n &quot;OFF&quot;.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image141.jpeg" alt="width:500px"></p>
<h3 id="l293d">L293D</h3>
<p>El L293D √©s un circuit integrat que s'utilitza com a controlador de motor i permet controlar la direcci√≥ i la velocitat d'un motor DC.</p>
<p>El dispositiu inclou quatre drivers de pont H, que permeten controlar fins a dos motors DC de manera independent.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image142.jpeg" alt="imagen"></p>
<p><strong>Especificaciones</strong></p>
<table>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tensi√≥n de alimentaci√≥n</td>
<td>4,5 V a 36 V</td>
</tr>
<tr>
<td>Salida de corriente</td>
<td>1 A por canal (600 mA para el L293D)</td>
</tr>
<tr>
<td>M√°xima salida de corriente</td>
<td>2 A por canal (1.2 A para L293D)</td>
</tr>
</tbody>
</table>
<p>Diagrama de pines</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image143.jpeg" alt="imagen"></p>
<p>L293 y L293D</p>
<ul>
<li>El <code>L293</code> est√° dise√±ado para proporcionar corrientes de transmisi√≥n bidireccional de hasta 1 A con tensiones de 4,5 V a 36 V.</li>
<li>El <code>L293D</code> est√° dise√±ado para proporcionar bidireccional corrientes de impulsi√≥n de hasta 600 mA en tensiones de 4,5 V a 36 V.</li>
</ul>
<p>Pines</p>
<ul>
<li>4 pines per controlar la direcci√≥ dels motors</li>
<li>1 pin s'utilitza per controlar la  velocitat.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-05-15-17-25-39.png" alt=""></p>
<h3 id="control-de-la-velocidad">Control de la velocidad</h3>
<p><strong>M1 PWM</strong> lo conectaremos a un pin PWM de<code>Arduino</code>. Est√° marcados en la ONU, el pin 5 es un ejemplo. Cualquier n√∫mero entero entre 0 y 255, donde:</p>
<ul>
<li><code>0</code> significa velocidad 0 (no hay movimiento)</li>
<li><code>128</code> es la mitad de velocidad</li>
<li><code>255</code> es la velocidad m√°xima de salida.</li>
</ul>
<p>Seg√∫n el valor que escribamos, se generar√° una se√±al PWM diferente.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-13-13-35-36.png" alt="imagen"></p>
<p>Direcci√≥n de giro</p>
<p>La direcci√≥n se controla a trav√©s de las entradas de direcci√≥n:</p>
<ul>
<li><strong>M1 0/1</strong> y <strong>M1 1/0</strong> determinan el sentido de giro del motor 1</li>
<li><strong>M2 0/1</strong> y <strong>M2 1/0</strong> determinan el sentido de giro del motor 2</li>
</ul>
<p>Direcci√≥n de giro</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-28-12-14-53.png" alt=""></p>
<p>Direcci√≥n de giro</p>
<p>En la siguiente tabla ver√©is las 4 combinaciones posibles para el motor 1:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-13-13-34-44.png" alt="imagen"></p>
<p>Esquema</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image147.jpeg" alt="width:800px"></p>
<p>Montaje f√≠sico</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-28-12-13-46.png" alt=""></p>
<p>C√≥digo</p>
<pre class="hljs"><code><div>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ENABLE 5</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIRA 3</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIRB 4</span>

<span class="hljs-keyword">int</span> i;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">//set pin direction</span>
  <span class="hljs-built_in">pinMode</span>(ENABLE,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(DIRA,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(DIRB,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">//back and forth example</span>
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"One way, then reverse"</span>);
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">// enable on</span>
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) {
        <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//one way</span>
        <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">LOW</span>);
        <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);
        <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">LOW</span>);  <span class="hljs-comment">//reverse</span>
        <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">HIGH</span>);
        <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);
    }
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">// disable</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);

    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"fast Slow example"</span>);
    <span class="hljs-comment">//fast/slow stop example</span>
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//enable on</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//one way</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">LOW</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">//slow stop</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//enable on</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">//one way</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">HIGH</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">//fast stop</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);

    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"PWM full then slow"</span>);
    <span class="hljs-comment">//PWM example, full speed then slow</span>
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">255</span>); <span class="hljs-comment">//enable on</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//one way</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">LOW</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">180</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">128</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">50</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">128</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">180</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">analogWrite</span>(ENABLE,<span class="hljs-number">255</span>); <span class="hljs-comment">//half speed</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">//all done</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">10000</span>);
}

</div></code></pre>
<h2 id="motor-paso-a-paso-mando">Motor paso a paso mando</h2>
<p>Veremos c√≥mo funciona el motor de pasos de 4 fases <strong>ULN2003 28BYJ-48</strong> y el controlador de motor de 5V.</p>
<h3 id="el-motor">El motor</h3>
<p>El motor de pasos de 4 fases ULN2003 28BYJ-48 es un motor de pasos peque√±o y econ√≥mico que se puede controlar con un microcontrolador. El motor tiene 4 fases, cada una con 2 polos. Cada fase requiere energ√≠a para que el im√°n se atraiga o se repulse. Los 4 imanes del motor de pasos est√°n dispuestos de forma que se atraigan y se repulsen en secuencia, lo que hace que el eje del motor gire.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-20-17-13-11.png" alt="imagen"></p>
<h3 id="controlador">Controlador</h3>
<p>Para controlar el motor de pasos de 4 fases, se necesita un controlador de motor. El controlador de motor de 5V es un circuito integrado que se usa para controlar el motor de pasos.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-20-17-12-52.png" alt="imagen"></p>
<p>El controlador de motor tiene 8 salidas, cada una conectada a una fase del motor. Para hacer que el motor gire, se activan las salidas en secuencia.</p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>Cantidad</th>
<th>Caracter√≠stica</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Elegoo Uno R3</td>
</tr>
<tr>
<td>x</td>
<td>Placa de conexiones con 830 puntos</td>
</tr>
<tr>
<td>x</td>
<td>M√≥dulo receptor infrarrojo (IR)</td>
</tr>
<tr>
<td>x</td>
<td>Control remoto infrarrojo (IR)</td>
</tr>
<tr>
<td>x</td>
<td>M√≥dulo controlador de motor paso a paso ULN2003</td>
</tr>
<tr>
<td>x</td>
<td>Motor paso a paso</td>
</tr>
<tr>
<td>x</td>
<td>M√≥dulo de fuente de alimentaci√≥n</td>
</tr>
<tr>
<td>x</td>
<td>Adaptador de corriente 9V1A</td>
</tr>
<tr>
<td>x</td>
<td>Cables hembra-macho (DuPont)</td>
</tr>
<tr>
<td>x</td>
<td>Cable macho-macho (hilo de puente)</td>
</tr>
</tbody>
</table>
<h3 id="esquema">Esquema</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image163.jpeg" alt="imagen"></p>
<h4 id="diagrama-de-cableado">Diagrama de cableado</h4>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image164.jpeg" alt="imagen"></p>
<p>Estamos utilizando 4 pines para controlar el paso a paso y el 1 pin del sensor IR.</p>
<ul>
<li>Los <code>pines 8-11</code> controlan el motor paso a paso</li>
<li>El <code>pin 12</code> recibe la informaci√≥n de IR.</li>
</ul>
<p>Conectamos los 5V y la tierra al sensor. Como medida de precauci√≥n, usar un protoboard alimentaci√≥n potencia el motor paso a paso ya que puede utilizar m√°s energ√≠a y no queremos da√±ar la fuente de alimentaci√≥n del Arduino.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image165.jpeg" alt="bg contain"></p>
<p><strong>Mando</strong></p>
<p>El c√≥digo reconoce s√≥lo 2 valores desde el control remoto IR: VOL + y VOL-.</p>
<ul>
<li>Presionando VOL + del control remoto el motor har√° un giro completo hacia la derecha.</li>
<li>VOL- para hacer una rotaci√≥n completa en sentido antihorario.</li>
</ul>
<p>#Ejemplo 1</p>
<pre class="hljs"><code><div>
 Este c√≥digo hace que el motor gire en sentido horario y antihorario.

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">//Gira el motor en sentido horario</span>
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-comment">//Gira el motor en sentido antihorario</span>
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);

  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">8</span>, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">9</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">10</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(<span class="hljs-number">11</span>, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);
}
</div></code></pre>
<h2 id="motor-paso-a-paso">Motor paso a paso</h2>
<p>Un motor paso a paso es un dispositivo electromec√°nico que convierte pulsos el√©ctricos en movimientos mec√°nicos discretos.</p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>Cantidad</th>
<th>Caracter√≠stica</th>
</tr>
</thead>
<tbody>
<tr>
<td>[x]</td>
<td>Elegoo Uno R3</td>
</tr>
<tr>
<td>[x]</td>
<td>Placa de conexiones con 830 puntos</td>
</tr>
<tr>
<td>[x]</td>
<td>M√≥dulo controlador de motor paso a paso ULN2003</td>
</tr>
<tr>
<td>[x]</td>
<td>Motor paso a paso</td>
</tr>
<tr>
<td>[x]</td>
<td>Adaptador de corriente 9V1A</td>
</tr>
<tr>
<td>[x]</td>
<td>M√≥dulo de fuente de alimentaci√≥n</td>
</tr>
<tr>
<td>[x]</td>
<td>Cables hembra-macho (DuPont)</td>
</tr>
<tr>
<td></td>
<td>Hilo macho-macho (hilo de puente)</td>
</tr>
</tbody>
</table>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-13-47-03.png" alt=""></p>
<h3 id="%C2%BFc%C3%B3mo-funciona-un-motor-paso-a-paso">¬øC√≥mo funciona un motor paso a paso?</h3>
<p>El eje o eje de un motor paso a paso gira en incrementos discretos cuando impulsos de mando el√©ctrico se aplican a √©l en la secuencia correcta. La rotaci√≥n de los motores tiene varias relaciones directas a estos pulsos de entrada aplicadas. La secuencia de los pulsos aplicados se relaciona directamente con la direcci√≥n de rotaci√≥n de ejes motor. La velocidad de la rotaci√≥n de los ejes motor est√° directamente relacionada con la frecuencia de los pulsos de entrada y la duraci√≥n de la rotaci√≥n est√° directamente relacionada con el n√∫mero de pulsos de entrada aplicada. Una de las ventajas m√°s importantes de un motor paso a paso es su capacidad para ser controlado con precisi√≥n en un sistema de lazo abierto. Control de lazo abierto significa que ninguna informaci√≥n de retroalimentaci√≥n de posici√≥n es necesario. Este tipo de control elimina la necesidad de costosos dispositivos de detecci√≥n y regeneraci√≥n como codificadores √≥pticos. Su posici√≥n es conocida simplemente por hacer el seguimiento de los pulsos de entrada de paso</p>
<h3 id="28byj-48">28BYJ-48</h3>
<p>El motor paso a paso &quot;<code>28BYJ-48</code>&quot; es un motor bastante com√∫n en proyectos de electr√≥nica y rob√≥tica debido a su costo asequible y su versatilidad.</p>
<table>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tensi√≥n nominal</td>
<td>5 VDC</td>
</tr>
<tr>
<td>N√∫mero de fase</td>
<td>4</td>
</tr>
<tr>
<td>Cociente de la variaci√≥n de velocidad</td>
<td>1/64</td>
</tr>
<tr>
<td>√Ångulo de paso</td>
<td>5,625 ¬∞ 64</td>
</tr>
<tr>
<td>Frecuencia</td>
<td>100Hz</td>
</tr>
<tr>
<td>Resistencia de la C.C.</td>
<td>50Œ©¬±7% (25 ¬∞ C)</td>
</tr>
<tr>
<td>Inactivo en tracci√≥n frecuencia</td>
<td>&gt; 600Hz</td>
</tr>
<tr>
<td>Frecuencia ociosa de hacia fuera-tracci√≥n</td>
<td>&gt; 1000Hz En tracci√≥n par &gt; 34.3mN.m(120Hz)</td>
</tr>
<tr>
<td>Posicionamiento autom√°tico par</td>
<td>&gt; 34.3mN.m</td>
</tr>
<tr>
<td>Par de fricci√≥n</td>
<td>600-1200 gf.cm</td>
</tr>
<tr>
<td>Tire un par</td>
<td>300 gf.cm</td>
</tr>
<tr>
<td>Resistencia de aislamiento</td>
<td>&gt; 10MŒ©(500V)</td>
</tr>
<tr>
<td>Aislantes de electricidad</td>
<td>600VAC/1mA/1s</td>
</tr>
<tr>
<td>Grado de aislamiento</td>
<td>A</td>
</tr>
<tr>
<td>Subida de temperatura</td>
<td>&lt; 40K(120Hz)</td>
</tr>
<tr>
<td>Ruido</td>
<td>&lt; 35dB (120Hz, No carga, 10cm)</td>
</tr>
</tbody>
</table>
<h3 id="esquema-de-circuitos">Esquema de circuitos</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image156.jpeg" alt="imagen"></p>
<p>El motor paso a paso bipolar generalmente cuenta con cuatro cables que se extienden de √©l. A diferencia de los motores PAP unipolares, los motores paso a paso bipolares no poseen una conexi√≥n com√∫n en el centro.</p>
<p>En lugar de eso, tienen dos conjuntos independientes de bobinas. Pueden diferenciarse de los motores paso a paso unipolares midiendo la resistencia entre los cables.</p>
<p>Deber√≠as identificar dos pares de cables con resistencias iguales. Si conectas las puntas de tu medidor a dos cables que no est√°n vinculados (es decir, que no est√°n conectados a la misma bobina), deber√≠as observar resistencia infinita (o falta de continuidad).</p>
<h3 id="uln2003">ULN2003</h3>
<p>La ULN2003 es un popular <code>chip de amplificaci√≥n de corriente</code> que se utiliza com√∫nmente como placa conductora para motores paso a paso. Este chip se utiliza para controlar motores, especialmente los motores paso a paso, y proporciona la capacidad de manejar corrientes m√°s altas de las que un microcontrolador puede manejar directamente.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image157.jpeg" alt="imagen"></p>
<h3 id="descripci%C3%B3n-del-producto">Descripci√≥n del producto</h3>
<table>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tama√±o</td>
<td>42mmx30mm</td>
</tr>
<tr>
<td>Chip de controlador de uso</td>
<td>ULN2003, 500mA</td>
</tr>
<tr>
<td>A. B. C. D</td>
<td>LED que indica las cuatro fases las condiciones  de trabajo motor paso a paso.</td>
</tr>
<tr>
<td>Blanco jack</td>
<td>es el conector est√°ndar motor cuatro fase      paso a paso.</td>
</tr>
<tr>
<td>Pines de alimentaci√≥n son separados</td>
<td></td>
</tr>
<tr>
<td>Mantuvimos las clavijas del resto de la viruta del ULN2003</td>
<td>para sus prototipos m√°s.</td>
</tr>
</tbody>
</table>
<p>La forma m√°s sencilla de conexi√≥n un paso a paso unipolar a<code>Arduino</code> es utilizar un desglose para chip de ULN2003A transistor array. El ULN2003A contiene siete controladores de transistor Darlington y es algo as√≠como tener siete transistores TIP120 todo en un paquete. El ULN2003A puede pasar hasta 500 mA por canal y tiene una ca√≠da de tensi√≥n interna de 1V cuando en. Tambi√©n contiene diodos de abrazadera interna para disipar las puntas de tensi√≥n al manejar cargas inductivas.</p>
<h2 id="control-mediante-bobinas">Control mediante bobinas</h2>
<p>Para controlar el paso a paso, aplicamos tensi√≥n a cada una de las bobinas en una secuencia espec√≠fica.</p>
<p>La secuencia ir√≠a as√≠:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image158.jpeg" alt="imagen"></p>
<p>Estos son esquemas que muestran c√≥mo un paso a paso unipolar de interfaz motor a cuatro pines controlador utilizando un ULN2003A y mostrando c√≥mo la interfaz usando cuatro com</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image159.jpeg" alt="imagen"></p>
<p>#Conexi√≥n</p>
<p>#Esquema</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image160.jpeg" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image161.jpeg" alt="imagen"></p>
<p>Estamos utilizando 4 pines para controlar el paso a paso.</p>
<ul>
<li>Los pines 8-11 controlan el motor paso a paso.</li>
<li>Conectamos la tierra de a UNO para el motor paso a paso.</li>
</ul>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image162.jpeg" alt="imagen"></p>
<h2 id="motor-servo">Motor servo</h2>
<p>Los <code>servos</code> son un tipo especial de motor de c.c. que se caracterizan por su capacidad para posicionarse de forma inmediata en cualquier posici√≥n dentro de su intervalo de operaci√≥n. Se mueven en una precisi√≥n de 180¬∫ como m√°ximo.</p>
<p>El servo tiene un <code>eje</code> que puede girar y que es accionado por un motor. La posici√≥n del eje puede ser controlada con una se√±al anal√≥gica.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-13-13-03-54.png" alt="imagen"></p>
<p>Para ello, el servomotor espera un tren de pulsos que se corresponde con el movimiento a realizar.</p>
<h3 id="cables">Cables</h3>
<p>El Servo tiene tres cables:</p>
<ul>
<li><strong>Marr√≥n</strong> es el cable a tierra y deben conectarse a GND puerto UNO, el r</li>
<li><strong>Rojo</strong> es el cable de corriente y debe conectarse al puerto de 5v</li>
<li><strong>Naranja</strong> es el cable de se√±al y debe conectarse al puerto 9.</li>
</ul>
<h3 id="servo-mg995">Servo MG995</h3>
<p>El servomotor <strong>MG995</strong> es un servomotor digital de alta velocidad y alta precisi√≥n. El servomotor est√° construido con una carcasa de pl√°stico reforzado y un eje de metal.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-07-22-21-33.png" alt=""></p>
<p>Tiene una salida de 5 V y una corriente m√°xima de 2 A. Puede alcanzar una velocidad de giro de 0,12 segundos por vuelta.</p>
<h3 id="servomotor-sg90">Servomotor SG90</h3>
<ul>
<li>El <strong>SG90</strong> es un microservo m√°s peque√±o y ligero que el MG995.</li>
<li>Tambi√©n es m√°s econ√≥mico.</li>
<li>El <strong>SG90</strong> tiene un rango de movimiento de aproximadamente 180 grados, mientras que el MG995 tiene un rango de movimiento de aproximadamente 360 grados.</li>
</ul>
<table>
<thead>
<tr>
<th>Par√°metro</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Longitud del cable:</td>
<td>25cm</td>
</tr>
<tr>
<td>Sin carga;</td>
<td>Velocidad: 0,12 seg/60 degree (4.8V), 0.10 sec/60 grados (6.0V)</td>
</tr>
<tr>
<td>Puesto de par (4.8V):</td>
<td>1,6 kg/cm</td>
</tr>
<tr>
<td>Temperatura:</td>
<td>-30 ~ 60' C</td>
</tr>
<tr>
<td>Ancho de banda muerta:</td>
<td>5 us</td>
</tr>
<tr>
<td>Voltaje de funcionamiento:</td>
<td>3.5 ~ 6V</td>
</tr>
<tr>
<td>Dimensi√≥n:</td>
<td>1.26 en x 1,18 en x 0,47 en (3,2 x 3 cm x 1.2 cm)</td>
</tr>
<tr>
<td>Peso:</td>
<td>4,73 onzas (134)</td>
</tr>
</tbody>
</table>
<h3 id="accesorios">Accesorios</h3>
<p>El servo viene con diferentes accesorios que se pueden utilizar para sujetarlo a otras piezas.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image83.png" alt="imagen"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image84.jpeg" alt="bg contain"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image85.jpeg" alt="imagen"></p>
<h3 id="montaje">Montaje</h3>
<p>Necesitaremos 3 <strong>jumpers</strong> para conectar el servo a la placa.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image86.jpeg" alt="bg contain"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p>Antes de ejecutar esto, debemos incluir la <strong>biblioteca servo</strong>. Esta librer√≠a incorpora funciones que nos permitir√°n manejar de forma m√°s sencilla el comportamiento del motor.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-17-15-28-13.png" alt="imagen"></p>
<p>Ejemplo 1</p>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Servo.h&gt; // Incluimos la librer√≠a Servo</span></span>

<span class="hljs-built_in">Servo</span> miServo; <span class="hljs-comment">// Creamos un objeto Servo</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  miServo.<span class="hljs-built_in">attach</span>(<span class="hljs-number">9</span>); <span class="hljs-comment">// Conectamos el servo al pin 9</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  miServo.<span class="hljs-built_in">write</span>(<span class="hljs-number">90</span>); <span class="hljs-comment">// Movemos el servo a 90 grados</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// Esperamos 1 segundo</span>
  miServo.<span class="hljs-built_in">write</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// Movemos el servo a 0 grados</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">// Esperamos 1 segundo</span>
}
</div></code></pre>
<p>Ejemplo 2
Este c√≥digo mueve el eje del motor <code>180 grados</code> en una direcci√≥n y luego en la contraria, indefinidamente.</p>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Servo.h&gt;</span></span>

<span class="hljs-built_in">Servo</span> myservo;  <span class="hljs-comment">// create servo object to control a servo</span>
<span class="hljs-comment">// twelve servo objects can be created on most boards</span>

<span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>;    <span class="hljs-comment">// variable to store the servo position</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  myservo.<span class="hljs-built_in">attach</span>(<span class="hljs-number">9</span>);  <span class="hljs-comment">// Le asignamos el PIN 9.</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">for</span> (pos = <span class="hljs-number">0</span>; pos &lt;= <span class="hljs-number">180</span>; pos += <span class="hljs-number">1</span>) { <span class="hljs-comment">// goes from 0 degrees to 180 degrees</span>
    <span class="hljs-comment">// in steps of 1 degree</span>
    myservo.<span class="hljs-built_in">write</span>(pos);              <span class="hljs-comment">// tell servo to go to position in variable 'pos'</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">15</span>);                       <span class="hljs-comment">// waits 15ms for the servo to reach the position</span>
  }
  <span class="hljs-keyword">for</span> (pos = <span class="hljs-number">180</span>; pos &gt;= <span class="hljs-number">0</span>; pos -= <span class="hljs-number">1</span>) { <span class="hljs-comment">// goes from 180 degrees to 0 degrees</span>
    myservo.<span class="hljs-built_in">write</span>(pos);              <span class="hljs-comment">// tell servo to go to position in variable 'pos'</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">15</span>);                       <span class="hljs-comment">// waits 15ms for the servo to reach the position</span>
  }
}
</div></code></pre>
<h1 id="luces">Luces</h1>
<p>Els LEDs, els LCD i els displays de set segments s√≥n components electr√≤nics que es poden controlar amb una placa Arduino per a mostrar informaci√≥ o per a indicar l'estat d'un sistema. Cada un d'aquests dispositius t√© diferents caracter√≠stiques i funcions, i es poden utilitzar en diferents aplicacions.</p>
<ul>
<li>Els <a href="LED.md">LEDs</a> s√≥n diodes emissors de llum que es poden utilitzar per a indicar l'estat d'un sistema, per a il¬∑luminar objectes o per a crear efectes de llum.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-07-16-47-32.png" alt=""></p>
<ul>
<li>Els <a href="LCD.md">displays LCD</a> s√≥n pantalles de cristall l√≠quid que es poden utilitzar per a mostrar text o gr√†fics. Aquests displays s√≥n √∫tils en moltes aplicacions, com ara en sistemes de control de temperatura, temporitzadors, termostats, etc.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-07-16-48-49.png" alt=""></p>
<ul>
<li>Els <a href="7_segments_(1_d%C3%ADgito).md">displays de set segments</a> s√≥n displays que mostren d√≠gits o lletres utilitzant set segments de LEDs per a crear la forma desitjada. Aquests displays s√≥n utilitzats en moltes aplicacions, com ara rellotges digitals, term√≤metres, indicadors de nivell, etc.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/image-2.png" alt="Alt text"></p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>Cantidad</th>
<th>Caracter√≠stica</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1)</td>
<td>x Placa Arduino UNO</td>
</tr>
<tr>
<td>(1)</td>
<td>1 LED rojo de 5 mm</td>
</tr>
<tr>
<td>(1)</td>
<td>x resistencia de 220 ohmios</td>
</tr>
<tr>
<td>(1)</td>
<td>x resistencia de 1 k ohm</td>
</tr>
<tr>
<td>(1)</td>
<td>x resistencia de ohmio 10 k</td>
</tr>
<tr>
<td>(2)</td>
<td>x M M cables (cables de puente de macho a macho)</td>
</tr>
</tbody>
</table>
<p><strong>¬øQu√© es un LED?</strong></p>
<p>En esta lecci√≥n, usar√°s tal vez el m√°s com√∫n de todos los LEDs: un LED de 5mm de color rojo. 5mm se refiere al di√°metro del LED. Otros tama√±os comunes son 3mm y 10mm.</p>
<p>¬øC√≥mo se conecta?**</p>
<p>Directamente no se puede conectar un LED a una bater√≠a o fuente de tensi√≥n porque:</p>
<ol>
<li>El  LED tiene un polo positivo y un negativo y no se encender√° si se conectan mal.</li>
<li>Un LED con una resistencia para limitar la corriente que circula a trav√©s de √©l.</li>
</ol>
<h3 id="ejemplo-de-led">Ejemplo de LED</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image53.jpeg" alt="imagen"></p>
<h3 id="advertencia">Advertencia</h3>
<p>Si no utilizas un resistencia con un LED, entonces se puede quemar casi de inmediato, como demasiada corriente fluir√° a trav√©s, calienta y destruye al 'cruce' donde se produce la luz. Hay dos maneras de saber cual es el positivo del LED y que la negativa. En primer lugar, el positivo es m√°s largo.</p>
<p>En segundo lugar, donde la pata del negativo entra en el cuerpo del LED, hay un borde plano para el caso del LED.</p>
<p>La patilla m√°s larga es el <code>positivo</code>.</p>
<h3 id="resistencias">Resistencias</h3>
<p>Como su nombre lo indica, resistencias de resisten el flujo de electricidad. Cuanto mayor sea el valor de la resistencia, resiste m√°s y la menos corriente fluir√° a trav√©s de √©l. Vamos a usar esto para controlar Cu√°nta electricidad fluye a trav√©s del LED y por lo tanto, como claramente brilla.</p>
<h3 id="resistencias-ejemplo">Resistencias: ejemplo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image54.jpeg" alt="imagen"></p>
<h3 id="resistencias-unidades">Resistencias: unidades</h3>
<ul>
<li>La <strong>unidad</strong> de resistencia se denomina Ohm, que se abrevia generalmente a Œ© la letra griega Omega.</li>
<li>1 Ohm es un valor bajo</li>
<li>Valores de resistencias en kŒ© (1.000 Œ©) y MŒ© (1.000.000 Œ©). (kiloohmios y megaohmios).</li>
</ul>
<p>Resistencias: valores</p>
<p>En esta lecci√≥n, vamos a utilizar tres valores diferentes de resistencia:</p>
<ul>
<li><input type="checkbox" id="checkbox0" checked="true"><label for="checkbox0">220 Œ©</label></li>
<li><input type="checkbox" id="checkbox1" checked="true"><label for="checkbox1">1 kŒ©</label></li>
<li><input type="checkbox" id="checkbox2" checked="true"><label for="checkbox2">10 kŒ©</label></li>
</ul>
<h3 id="resistencias-diferencias">Resistencias: diferencias</h3>
<p>Estas resistencias todas se ven iguales, excepto que tienen <strong>rayas de colores</strong> diferentes en ellos. Estas rayas decirte el valor de la resistencia.</p>
<p>El <strong>c√≥digo</strong> de color resistor tiene tres franjas de colores y luego una banda de oro en un extremo.</p>
<h3 id="ejemplo-identificaci%C3%B3n-resistencia">Ejemplo identificaci√≥n resistencia</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image55.jpeg" alt="imagen"></p>
<h3 id="resistencias-orientaci%C3%B3n">Resistencias: orientaci√≥n</h3>
<p>A diferencia de los <strong>LED</strong>, resistencias no tienen un cable positivo y negativo. Se puede conectar de cualquier manera alrededor.</p>
<h3 id="resistencias-medici%C3%B3n">Resistencias: medici√≥n</h3>
<p>Si desconocemos el valor de una resistencia, tambi√©n podemos medir su valor utilizando un <code>mult√≠metro</code>.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-07-22-10-36.png" alt=""></p>
<h3 id="esquema">Esquema</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image56.jpeg" alt="w:500"></p>
<h3 id="simulaci%C3%B3n">Simulaci√≥n</h3>
<p>La <strong>placa de desarrollo<code>Arduino</code> UNO</strong> es una conveniente fuente de 5 voltios, que vamos a utilizar para alimentar el LED y la resistencia. No necesita hacer nada con su UNO, salvo que lo conecte un cable USB.</p>
<h3 id="simulaci%C3%B3n-ejemplo">Simulaci√≥n: ejemplo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image57.jpeg" alt="bg contain"></p>
<h3 id="resistencias-para-led">Resistencias para LED</h3>
<ul>
<li>Con la resistencia de <code>220 Œ©</code>,  el LED debe ser bastante brillante.</li>
<li>Si cambia  la resistencia <code>220 Œ©</code> para la resistencia de <code>1 kŒ©</code>, brillar√° menos.</li>
<li>Por √∫ltimo, con el resistor de <code>10 kŒ©</code> en su lugar, el LED ser√° casi invisible.</li>
</ul>
<h3 id="montaje">Montaje</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-05-16-15-28.png" alt="imagen"></p>
<h2 id="led-rgb"><a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a></h2>
<p>En este proyecto aprendremos a controlar la iluminaci√≥n de un <a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a> con <a href="https://danimrprofe.github.io/apuntes/arduino/">Arduino</a></p>
<p>Los <a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a> permiten iluminar con cualquier color, a trav√©s de 3 leds que contiene en su interior: uno rojo, otro verde y otro azul.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/ledrgbtransicion.gif" alt="imagen"></p>
<p>Tipos de <a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a></p>
<ul>
<li>Existen 2 versiones: √Ånodo com√∫n y c√°todo com√∫n.</li>
<li>√Ånodo com√∫n utiliza 5V en el pin com√∫n, mientras que el c√°todo com√∫n se conecta  a tierra.</li>
<li>Como con cualquier LED, tenemos que conectar algunas resistencias en l√≠nea (3 total)  para limitar la corriente.</li>
</ul>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>cantidad</th>
<th>componente</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>placa <a href="https://danimrprofe.github.io/apuntes/arduino/">Arduino</a></td>
</tr>
<tr>
<td>1</td>
<td>protoboard</td>
</tr>
<tr>
<td>4</td>
<td>cables jumper</td>
</tr>
<tr>
<td>1</td>
<td><a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a></td>
</tr>
<tr>
<td>3</td>
<td>resistencias de 220 ohmios</td>
</tr>
</tbody>
</table>
<h3 id="rgb">RGB</h3>
<p>A primera vista, LEDs RGB (rojo, verde y azul) s√≥lo parecen un LED. Sin embargo, dentro del paquete del LED generalmente, hay realmente tres LEDs, uno rojo, uno verde y s√≠, uno azul. Controlando el <strong>brillo</strong> de cada uno de los LEDs individuales, podemos mezclar pr√°cticamente cualquier color.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-13-27.png" alt="imagen"></p>
<h3 id="pines">Pines</h3>
<p>El <a href="https://danimrprofe.github.io/apuntes/arduino/LED_RGB/">LED RGB</a> tiene <strong>cuatro pines</strong>. Hay un cable a la conexi√≥n positiva de cada uno de los LEDs individuales dentro del paquete y un patilla √∫nica que est√° conectado a los tres lados negativos de los LEDs.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-14-02.png" alt="imagen"></p>
<p>Cada pin separado de color verde o azul o de rojo se llama √°nodo.</p>
<h3 id="color">Color</h3>
<p>Los colores los conseguiremos mezclando diferentes cantidades de cada color primario.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-20-15.png" alt="imagen"></p>
<p>La mezcla crear√° la <code>sensaci√≥n</code> del color elegido. Podemos controlar el brillo de cada una de las partes de rojas, verdes y azules del LED por separado, lo que es posible mezclar cualquier color.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-08-16-57-31.png" alt=""></p>
<h3 id="ejemplos">Ejemplos</h3>
<ul>
<li>Si establece el brillo de todos los tres LEDs al ser el mismo, el color general de la luz  ser√° blanco.</li>
<li>Si apagamos el LED azul, para que s√≥lo los LEDs rojo y verdes son el  mismo brillo, la luz aparecer√° amarillo.</li>
</ul>
<h3 id="%C2%BFc%C3%B3mo-consigo-el-color-negro">¬øC√≥mo consigo el color negro?</h3>
<p>El color <strong>Negro</strong> no es tanto un color como una ausencia de luz. Por lo tanto, lo m√°s cercano  que podemos llegar a negro con el LED es apagar los tres colores, poniendo sus valores a 0.</p>
<h3 id="teor%C3%ADa-pwm">Teor√≠a (PWM)</h3>
<ul>
<li><a href="https://danimrprofe.github.io/apuntes/arduino/">Arduino</a> tiene una funci√≥n <strong>analogWrite</strong> que se puede utilizar con pines marcados con un <strong>~</strong> a la salida de una cantidad variable de energ√≠a los LEDs apropiados.</li>
<li>La forma de dar m√°s o menos potencia a cada color es utilizando una se√±al del tipo <code>PWM</code>.</li>
<li>La <strong>modulaci√≥n de ancho de pulso (PWM)</strong> es una t√©cnica para el control de potencia. La utilizamos aqu√≠ para controlar el brillo de cada uno de los LEDs.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image62.jpeg" alt="imagen"></p>
<p>Ciclo de trabajo</p>
<p>Aproximadamente cada 1/500 de segundo, la salida PWM producir√° un pulso. La  duraci√≥n de este pulso es controlada por la funci√≥n 'analogWrite'. As√≠:</p>
<ul>
<li><code>analogWrite(0)</code> no producir√° ning√∫n pulso.</li>
<li><code>analogWrite(255)</code> producir√° un  pulso que dura todo el camino hasta el pulso siguiente vencimiento, para que la  salida es en realidad todo el tiempo.</li>
</ul>
<p>Si especificamos un valor en el <strong>analogWrite</strong> que est√° en alg√∫n lugar entre 0 y 255, se producir un pulso.</p>
<ul>
<li>Si el pulso de salida es alto para el 5% del tiempo, entonces lo  que nosotros estamos manejando s√≥lo recibir√° el 5% de potencia.</li>
<li>Si la salida es 5V para el 90% del tiempo, la carga recibir√° el 90% .</li>
</ul>
<p>Los LED se encender√°n y apagar√°n en esos periodos, pero nosotros percibiremos que el brillo del LED cambia.</p>
<h3 id="esquema">Esquema</h3>
<p>El esquema el√©ctrico que seguiremos es el siguente:</p>
<ul>
<li>Cada patilla de un color debe conectarse a una salida digital etiquetada como <code>PWM</code></li>
<li>La patilla com√∫n, ir√° conectada a un pin de tierra, etiquetado como <code>GND</code></li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image63.jpeg" alt="bg contain"></p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<ol>
<li>El c√°todo o conexi√≥n com√∫n es el segundo pin, que tambi√©n es el <strong>m√°s largo</strong> de las cuatro patas y se conectar√°n a la <strong>tierra</strong> (GND).</li>
<li>Cada LED requiere su propia <strong>resistencia de 220 Œ©</strong> para prevenir demasiada corriente que fluye a trav√©s de √©l.</li>
<li>Los 3 pines de color (uno rojo, uno verde y uno azul) est√°n conectados a los pines de salida UNO con estas resistencias.</li>
</ol>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-18-36.png" alt="imagen"></p>
<p>Una vez conectado, deber√≠a quedar de la siguiente forma:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-24-29.png" alt="imagen"></p>
<h3 id="c%C3%B3digo-programa-1">C√≥digo programa 1</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Define pines</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BLUE 3</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GREEN 5</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> RED 6</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(RED, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(GREEN, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(BLUE, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">analogWrite</span>(RED, <span class="hljs-number">0</span>);
  <span class="hljs-built_in">analogWrite</span>(GREEN, <span class="hljs-number">255</span>);
  <span class="hljs-built_in">analogWrite</span>(BLUE, <span class="hljs-number">0</span>);
}
</div></code></pre>
<p>Una vez probado, puedes intentar estos ejercicios:</p>
<ol>
<li>Combinar varios valores para conseguir colores diferentes</li>
<li>Crear un sem√°foro utilizando delays y cambiando los valores para producir las luces roja, verde y amarilla.</li>
</ol>
<h3 id="c%C3%B3digo-programa-2">C√≥digo programa 2</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Define pines</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BLUE 3</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GREEN 5</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> RED 6</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(RED, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(GREEN, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(BLUE, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">digitalWrite</span>(RED, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(GREEN, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(BLUE, <span class="hljs-literal">LOW</span>);
}

<span class="hljs-comment">// define variables</span>
<span class="hljs-keyword">int</span> redValue;
<span class="hljs-keyword">int</span> greenValue;
<span class="hljs-keyword">int</span> blueValue;

<span class="hljs-comment">// main loop</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> delayTime 10 <span class="hljs-comment">// fading time between colors</span></span>

  redValue = <span class="hljs-number">255</span>; <span class="hljs-comment">// choose a value between 1 and 255 to change the color.</span>
  greenValue = <span class="hljs-number">0</span>;
  blueValue = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// this is unnecessary as we've either turned on RED in SETUP</span>
  <span class="hljs-comment">// or in the previous loop ... regardless, this turns RED off</span>
  <span class="hljs-comment">// analogWrite(RED, 0);</span>
  <span class="hljs-comment">// delay(1000);</span>

  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">255</span>; i += <span class="hljs-number">1</span>) <span class="hljs-comment">// fades out red bring green full when i=255</span>
  {
  redValue -= <span class="hljs-number">1</span>;
  greenValue += <span class="hljs-number">1</span>;
  <span class="hljs-comment">// The following was reversed, counting in the wrong directions</span>
  <span class="hljs-comment">// analogWrite(RED, 255 - redValue);</span>
  <span class="hljs-comment">// analogWrite(GREEN, 255 - greenValue);</span>
  <span class="hljs-built_in">analogWrite</span>(RED, redValue);
  <span class="hljs-built_in">analogWrite</span>(GREEN, greenValue);
  <span class="hljs-built_in">delay</span>(delayTime);
}

redValue = <span class="hljs-number">0</span>;
greenValue = <span class="hljs-number">255</span>;
blueValue = <span class="hljs-number">0</span>;

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">255</span>; i += <span class="hljs-number">1</span>) <span class="hljs-comment">// fades out green bring blue full when i=255</span>
{
greenValue -= <span class="hljs-number">1</span>;
blueValue += <span class="hljs-number">1</span>;
<span class="hljs-comment">// The following was reversed, counting in the wrong directions</span>
<span class="hljs-comment">// analogWrite(GREEN, 255 - greenValue);</span>
<span class="hljs-comment">// analogWrite(BLUE, 255 - blueValue);</span>
<span class="hljs-built_in">analogWrite</span>(GREEN, greenValue);
<span class="hljs-built_in">analogWrite</span>(BLUE, blueValue);
<span class="hljs-built_in">delay</span>(delayTime);
}

redValue = <span class="hljs-number">0</span>;
greenValue = <span class="hljs-number">0</span>;
blueValue = <span class="hljs-number">255</span>;

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">255</span>; i += <span class="hljs-number">1</span>) <span class="hljs-comment">// fades out blue bring red full when i=255</span>
{
<span class="hljs-comment">// The following code has been rearranged to match the other two similar sections</span>
blueValue -= <span class="hljs-number">1</span>;
redValue += <span class="hljs-number">1</span>;
<span class="hljs-comment">// The following was reversed, counting in the wrong directions</span>
<span class="hljs-comment">// analogWrite(BLUE, 255 - blueValue);</span>
<span class="hljs-comment">// analogWrite(RED, 255 - redValue);1</span>
<span class="hljs-built_in">analogWrite</span>(BLUE, blueValue);
<span class="hljs-built_in">analogWrite</span>(RED, redValue);
<span class="hljs-built_in">delay</span>(delayTime);
}
}
</div></code></pre>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image65.jpeg" alt="imagen"></p>
<p>Primero especificamos a que pines de <code>Arduino</code> he conectado cada LED.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Define Pins</span>
<span class="hljs-comment">// Se definen los pines</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BLUE 3    <span class="hljs-comment">// Se asigna el nombre 'BLUE' al pin 3</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GREEN 5   <span class="hljs-comment">// Se asigna el nombre 'GREEN' al pin 5</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> RED 6     <span class="hljs-comment">// Se asigna el nombre 'RED' al pin 6</span></span>
</div></code></pre>
<p>En el setup, declaramos estos pines como salidas (OUTPUT) para poder enviar corriente hacia los LED.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(RED, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(GREEN, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(BLUE,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">digitalWrite</span>(RED, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">digitalWrite</span>(GREEN, <span class="hljs-literal">LOW</span>);
  <span class="hljs-built_in">digitalWrite</span>(BLUE, <span class="hljs-literal">LOW</span>);
}
</div></code></pre>
<p>Antes de echar un vistazo a la <strong>funci√≥n loop</strong>, veamos la √∫ltima funci√≥n en el proyecto.</p>
<p>Las variables de definici√≥n:</p>
<pre class="hljs"><code><div>redValue = <span class="hljs-number">255</span>; <span class="hljs-comment">// choose a value between 1 and 255 to change the color.</span>
greenValue = <span class="hljs-number">0</span>;
blueValue = <span class="hljs-number">0</span>;
</div></code></pre>
<p>Esta funci√≥n tiene tres argumentos, uno para el brillo de los LEDs rojos, verdes y azules. En cada caso de que el n√∫mero ser√° en el rango 0 a 255, donde 0 significa apagado y 255 significa brillo m√°ximo. La funci√≥n entonces llama 'analogWrite' para ajustar el brillo de cada LED.</p>
<p>Si nos fijamos en la <strong>funci√≥n loop</strong> se puede ver que ajuste la cantidad de luz roja, verde y azul que queremos mostrar y luego una pausa por un segundo antes de pasar al siguiente color.</p>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> delayTime 10 <span class="hljs-comment">// fading time between colors</span></span>
Delay(delayTime);
</div></code></pre>
<h2 id="tira-de-leds">Tira de LEDs</h2>
<p>Los LEDs se est√°n volviendo cada vez m√°s populares como un medio para iluminar un espacio. Uno de los tipos de LEDs m√°s nuevos y populares es el <code>WS2812B</code>. Estos LEDs ofrecen una serie de ventajas sobre los LEDs tradicionales, como la capacidad de cambiar de color y la capacidad de crear una gran variedad de efectos de iluminaci√≥n.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/ledanimado.gif" alt=""></p>
<h3 id="ws2812b">WS2812B</h3>
<p>El <strong>WS2812B</strong> es un tipo de LED direccionable. Esto significa que cada LED individual se puede controlar de forma <strong>independiente</strong>. Esto le da la capacidad de crear algunos efectos de iluminaci√≥n realmente geniales.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-15-49-51.png" alt=""></p>
<h3 id="alimentaci%C3%B3n">Alimentaci√≥n</h3>
<p>Las tiras <strong>WS2812B</strong> pueden alimentarse a trav√©s de una bater√≠a o de una fuente de alimentaci√≥n externa.</p>
<ul>
<li>El voltaje necesario para que funcione correctamente la tira de led WS2812B es de 5V.</li>
<li>Un led WS2812B necesita un m√≠nimo de 60mA para funcionar.</li>
</ul>
<h3 id="la-librer%C3%ADa-fastled">La librer√≠a FASTLED</h3>
<p><strong>FastLED</strong> es una librer√≠a de c√≥digo abierto para programar tira de LEDs RGB direccionables y controladores. Est√° dise√±ada para simplificar el proceso de crear efectos de iluminaci√≥n complejos y se puede usar con una amplia variedad de hardware.</p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-12-16-11-20.png" alt="imagen"></p>
<h3 id="cabecera">Cabecera</h3>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;FastLED.h&gt; // header file</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NUM_LEDS 60 <span class="hljs-comment">// number of led present in your strip</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DATA_PIN 6 <span class="hljs-comment">// digital pin of your``Arduino``</span></span>

CRGB leds[NUM_LEDS];

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  FastLED.addLeds&lt;WS2812B, LED_PIN, GRB&gt;(leds, NUM_LEDS);
  FastLED.setBrightness(<span class="hljs-number">50</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  leds[<span class="hljs-number">0</span>] = CRGB::Green; <span class="hljs-comment">//glow 1st led as green</span>
  leds[<span class="hljs-number">1</span>] = CRGB::Blue; <span class="hljs-comment">//glow 2nd led as blue</span>
  FastLED.show(); <span class="hljs-comment">// apply the function on led strip</span>
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">30</span>);
}
</div></code></pre>
<h3 id="parpadeo-blink">Parpadeo (blink)</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  leds[<span class="hljs-number">0</span>] = CRGB::Blue;
  FastLED.show();
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">200</span>);
  leds[<span class="hljs-number">0</span>] = CRGB::Black;
  FastLED.show();
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">200</span>);
}
</div></code></pre>
<p>Para apagar la luz:</p>
<pre class="hljs"><code><div>leds[<span class="hljs-number">0</span>] = CRGB::Black;
</div></code></pre>
<p>Iluminar todos los LED de golpe</p>
<p>Para ello podemos utilizar la funci√≥n <code>fill_solid</code>.</p>
<pre class="hljs"><code><div>fill_solid(leds, NUM_LEDS, CRGB:Red);
</div></code></pre>
<h3 id="arcoiris">Arcoiris</h3>
<pre class="hljs"><code><div>fill_rainbow(leds, NUM_LEDS, <span class="hljs-number">0</span>,<span class="hljs-number">255</span> / NUM_LEDS);
</div></code></pre>
<h3 id="led-chaser">LED Chaser</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// chase forward</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot = <span class="hljs-number">0</span>;dot &lt; NUM_LEDS; dot++) {
    leds[dot] = CRGB::Red;
    FastLED.show();
    leds[dot] = CRGB::Black;
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }
}

<span class="hljs-comment">// chase backward</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot=NUM_LEDS ; dot &gt;=<span class="hljs-number">0</span> ; dot--) {
    leds[dot] = CRGB::Red;
    FastLED.show();
    leds[dot] = CRGB::Black;
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }
}

<span class="hljs-comment">// chase both</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot=(NUM_LEDS<span class="hljs-number">-1</span>) ; dot &gt;=<span class="hljs-number">0</span> ; dot--) {
    leds[dot] = CRGB::Green;
    FastLED.show();
    leds[dot] = CRGB::Black;
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }

  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot = <span class="hljs-number">0</span>;dot &lt; NUM_LEDS; dot++) {
    leds[dot] = CRGB::Red;
    FastLED.show();
    leds[dot] = CRGB::Black;
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }
}
</div></code></pre>
<h3 id="serial-glow">Serial glow</h3>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot=(NUM_LEDS<span class="hljs-number">-1</span>) ; dot &gt;=<span class="hljs-number">0</span> ; dot--) {
    leds[dot] = CRGB::HotPink;
    FastLED.show();
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }

  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> dot = <span class="hljs-number">0</span>;dot &lt; NUM_LEDS; dot++) {
    leds[dot] = CRGB::Blue;
    FastLED.show();
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">300</span>);
  }
}

</div></code></pre>
<h2 id="7-segments-1-d%C3%ADgito">7 segments (1 d√≠gito)</h2>
<p>Un <strong>seven segments</strong> es un dispositivo de visualizaci√≥n formado por siete diodos LED dispuestos en forma de n√∫mero 8.</p>
<p>Estas l√°mparas se utilizan para mostrar n√∫meros, letras y caracteres especiales. Se usan en una variedad de dispositivos electr√≥nicos, como relojes digitales, calculadoras, contadores, temporizadores, etc.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-05-16-21-35.png" alt="imagen"></p>
<ul>
<li></li>
</ul>
<p>Estas son las combinaciones que podemos hacer para mostrar los distintos n√∫meros:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-12-18-32-50.png" alt="imagen"></p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>cantidad</th>
<th>componente</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>placa<code>Arduino</code></td>
</tr>
<tr>
<td>1</td>
<td>protoboard</td>
</tr>
<tr>
<td>1</td>
<td>circuito integrado 74HC595</td>
</tr>
<tr>
<td>1</td>
<td>Pantalla 7 segments</td>
</tr>
<tr>
<td>8</td>
<td>resistencias de 220 ohm</td>
</tr>
<tr>
<td>1</td>
<td>M-M cables (cables de puente de macho a macho)</td>
</tr>
</tbody>
</table>
<h3 id="display-de-siete-segmentos">Display de siete segmentos</h3>
<p>Abajo est√° el diagrama de pines de siete segmentos</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image130.jpeg" alt="imagen"></p>
<p>0-9 diez d√≠gitos se corresponden con cada segmento es los siguientes (en la tabla siguiente se aplica com√∫n c√°todo dispositivo de exhibici√≥n de segmento siete, si se utiliza un √°nodo com√∫n, de la mesa debe ser reemplazado cada 1 0 0 si todos sustituidos por 1):</p>
<table>
<thead>
<tr>
<th>dp</th>
<th>a	b	c	d	e	f	g</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0	1	1	1	1	1	1	0</td>
</tr>
<tr>
<td>1</td>
<td>0	0	1	1	0	0	0	0</td>
</tr>
<tr>
<td>2</td>
<td>0	1	1	0	1	1	0	1</td>
</tr>
<tr>
<td>3</td>
<td>0	1	1	1	1	0	0	1</td>
</tr>
<tr>
<td>4</td>
<td>0	0	1	1	0	0	1	1</td>
</tr>
<tr>
<td>5</td>
<td>0	1	0	1	1	0	1	1</td>
</tr>
<tr>
<td>6</td>
<td>0	1	0	1	1	1	1	1</td>
</tr>
<tr>
<td>7</td>
<td>0	1	1	1	0	0	0	0</td>
</tr>
<tr>
<td>8</td>
<td>0	1	1	1	1	1	1	1</td>
</tr>
<tr>
<td>9</td>
<td>0	1	1	1	1	0	1	1</td>
</tr>
</tbody>
</table>
<p>vamos a utilizar el registro de desplazamiento <strong>74HC595</strong> para controlar la visualizaci√≥n de un seven segments.</p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image131.jpeg" alt="imagen"></p>
<h3 id="esquema">Esquema</h3>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image132.jpeg" alt="imagen"></p>
<p>La siguiente tabla muestra la tabla de correspondencias pantalla de siete segmentos 74HC595 pin</p>
<h3 id="paso-uno-conexi%C3%B3n-74hc595">Paso uno: conexi√≥n 74HC595</h3>
<p>En primer lugar, el cableado est√° conectado a la alimentaci√≥n y tierra:</p>
<ul>
<li>VCC (pin 16) y Se√±or (pin 10) conectado a 5V</li>
<li>GND (pin 8) y OE (pin 13) a tierra</li>
</ul>
<p>Pin conexi√≥n DS, ST_CP y SH_CP:</p>
<ul>
<li>DS (pin 14) conectado al pin de tablero UNO R3 2 (la cifra por debajo de la l√≠nea amarilla)</li>
<li>ST_CP (pin 12, perno de pestillo) conectado al pin de tablero UNO R3 3 (l√≠nea azul de la figura abajo)</li>
<li>SH_CP (pin 11, pin de reloj) conectado al pin de tablero UNO R3 4 (figura debajo de la l√≠nea blanca)</li>
</ul>
<h3 id="paso-2-conectar-el-display-de-siete-segmentos">Paso 2: conectar el display de siete segmentos</h3>
<p>El display de siete segmentos 3, 8 pin a UNO R3 Junta GND (este ejemplo utiliza el c√°todo com√∫n, si se utiliza el √°nodo com√∫n, por favor conecte el 3, 8 pines para tablero UNO R3 + 5V)</p>
<p>Seg√∫n la tabla anterior, conecte el 74HC595 Q0 ~ Q7 a siete segmentos pantalla pin correspondiente (A ~ G y DP) y luego cada pie en una resistencia de 220 ohmios en serie.</p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image133.jpeg" alt="imagen"></p>
<pre class="hljs"><code><div>
<span class="hljs-keyword">int</span> tDelay = <span class="hljs-number">100</span>;
<span class="hljs-keyword">int</span> latchPin = <span class="hljs-number">11</span>;      <span class="hljs-comment">// (11) ST_CP [RCK] on 74HC595</span>
<span class="hljs-keyword">int</span> clockPin = <span class="hljs-number">9</span>;      <span class="hljs-comment">// (9) SH_CP [SCK] on 74HC595</span>
<span class="hljs-keyword">int</span> dataPin = <span class="hljs-number">12</span>;     <span class="hljs-comment">// (12) DS [S1] on 74HC595</span>

<span class="hljs-keyword">byte</span> leds = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateShiftRegister</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-built_in">digitalWrite</span>(latchPin, <span class="hljs-literal">LOW</span>);
   <span class="hljs-built_in">shiftOut</span>(dataPin, clockPin, LSBFIRST, leds);
   <span class="hljs-built_in">digitalWrite</span>(latchPin, <span class="hljs-literal">HIGH</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(latchPin, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(dataPin, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(clockPin, <span class="hljs-literal">OUTPUT</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  leds = <span class="hljs-number">0</span>;
  updateShiftRegister();
  <span class="hljs-built_in">delay</span>(tDelay);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i++)
  {
    <span class="hljs-built_in">bitSet</span>(leds, i);
    updateShiftRegister();
    <span class="hljs-built_in">delay</span>(tDelay);
  }
}
</div></code></pre>
<h2 id="7-segments-4-d%C3%ADgitos">7 segments (4 d√≠gitos)</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-12-18-28-22.png" alt="imagen"></p>
<h3 id="resumen">Resumen</h3>
<p>En esta lecci√≥n, aprendremos a utilizar una pantalla de 7 segmentos de 4 d√≠gitos. Tenemos que tener en cuenta que:</p>
<ul>
<li>Si la pantalla es <strong>√°nodo com√∫n</strong>, el pin com√∫n del √°nodo se conecta a la fuente de energ√≠a</li>
<li>Si es de <strong>c√°todo com√∫n</strong>, el pin com√∫n del c√°todo se conecta a la tierra.</li>
</ul>
<p>Cuando se utilizan 4 d√≠gitos de 7 segmentos, el √°nodo com√∫n o pin de c√°todo com√∫n se utiliza para controlar qu√© d√≠gito aparece. A pesar de que hay s√≥lo un d√≠gito de trabajo, el principio de persistencia de la visi√≥n le permite ver todos los n√∫meros de muestra ya que cada uno es tan r√°pida que apenas notar√° los intervalos de la velocidad de exploraci√≥n.</p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<table>
<thead>
<tr>
<th>Cantidad</th>
<th>Componente</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Elegoo Uno R3</td>
</tr>
<tr>
<td>1</td>
<td>protoboard</td>
</tr>
<tr>
<td>1</td>
<td>74HC595 IC</td>
</tr>
<tr>
<td>1</td>
<td>display de 4 d√≠gitos de 7 segmentos</td>
</tr>
<tr>
<td>4</td>
<td>Resistencias de 220 ohm</td>
</tr>
<tr>
<td>1</td>
<td>M-M cables (cables de puente de macho a macho)</td>
</tr>
</tbody>
</table>
<h3 id="muestra-de-4-d%C3%ADgitos-de-7-segmentos">Muestra de 4 d√≠gitos de 7 segmentos</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image136.jpeg" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p>Cada d√≠gito tiene 7 segmentos (A a G) y un punto decimal (D1 a D4).</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image137.jpeg" alt="imagen"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image138.jpeg" alt="imagen"></p>
<h2 id="pantalla-lcd">Pantalla LCD</h2>
<p>La pantalla tiene una retroiluminaci√≥n de LED y puede mostrar <code>dos filas con hasta 16 caracteres</code> en cada fila.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-24-10-17-19.png" alt=""></p>
<h3 id="circuito-integrado-lcd1602">Circuito integrado LCD1602</h3>
<p>La pantalla est√° incrustada en un <code>circuito integrado </code>que la controla, llamado <code>LCD1602</code>.</p>
<h3 id="pines">Pines</h3>
<ul>
<li><code>VSS</code> Un pin que se conecta a tierra</li>
<li><code>VDD</code> Un pin que se conecta a un + 5V fuente de alimentaci√≥n</li>
<li><code>VO</code>  ajusta el contraste.</li>
<li><code>RS</code> Un registro seleccione pin que controla donde en memoria de la pantalla LCD datos de escritura. Usted puede seleccionar el registro de datos, que es lo que pasa en la pantalla, o un registro de instrucci√≥n, que es donde busca controlador de LCD para obtener instrucciones sobre qu√© hacer.</li>
<li><code>R/W</code>: Pin A lectura y escritura que selecciona el modo de lectura o escritura a modo de E:, Permitiendo a un perno con energ√≠a de bajo nivel, m√≥dulo causas la LDC para ejecutar instrucciones.</li>
<li><code>D0-D7</code> son los pines para escribir y leer datos.</li>
<li><code>A y K</code> controlan de la retroiluminaci√≥n LED de los pernos</li>
</ul>
<h3 id="esquema-de-conexi%C3%B3n">Esquema de conexi√≥n</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image110.jpeg" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image111.jpeg" alt="imagen"></p>
<p>La pantalla LCD necesita:</p>
<ul>
<li>6 pines digitales de datos de<code>Arduino</code></li>
<li>Coneciones de 5V y GND.</li>
</ul>
<h3 id="potenci%C3%B3metro">Potenci√≥metro</h3>
<p>El <strong>potenci√≥metro</strong> se utiliza para controlar el <code>contraste</code> de la pantalla. En ocasiones se ajusta con un peque√±o destornillador. El potenci√≥metro utilizado ser√° de <code>10 KOhm</code></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-28-12-59-15.png" alt=""></p>
<h3 id="librer%C3%ADa">Librer√≠a</h3>
<p>Antes de ejecutar esto, aseg√∫rese de que ha instalado la <strong>librer√≠a</strong> &lt; LiquidCrystal &gt; o volver a instalarlo, si es necesario. De lo contrario, el c√≥digo no funcionar√°.</p>
<p>Lo primero que nota en el dibujo es la l√≠nea:</p>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt; LiquidCrystal.h &gt;</span></span>
</div></code></pre>
<p>Esto dice<code>Arduino</code> que queremos utilizar la <strong>librer√≠a</strong> de cristal l√≠quido.</p>
<p>A continuaci√≥n tenemos la l√≠nea que ten√≠amos que modificar. Esto define qu√© pines de<code>Arduino</code> son para conectarse a que pines de la pantalla.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-built_in">LiquidCrystal</span> <span class="hljs-title">lcd</span> <span class="hljs-params">(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>)</span></span>;
</div></code></pre>
<p>Despu√©s de subir este c√≥digo, aseg√∫rese de que se enciende la retroiluminaci√≥n y ajustar el potenci√≥metro de toda la manera alrededor hasta que aparezca el mensaje de texto</p>
<p>En la funci√≥n de <strong>setup</strong>, tenemos dos comandos:</p>
<pre class="hljs"><code><div>LCD.Begin (<span class="hljs-number">16</span>, <span class="hljs-number">2</span>);
LCD.Print (<span class="hljs-string">"Hola, mundo!"</span>);
</div></code></pre>
<p>La primera cuenta la <strong>librer√≠a</strong> de cristal l√≠quido cu√°ntas columnas y filas tiene la pantalla. La segunda l√≠nea muestra el mensaje que vemos en la primera l√≠nea de la pantalla.</p>
<p>En la funci√≥n de 'loop', aso tienen dos comandos:</p>
<pre class="hljs"><code><div>lcd.<span class="hljs-built_in">setCursor</span> (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
LCD.Print(Millis()/<span class="hljs-number">1000</span>);
</div></code></pre>
<p>El primero establece la posici√≥n del cursor (donde aparecer√° el siguiente texto) columna 0 y fila 1. Los n√∫meros de columna y fila comienzan en 0 en lugar de 1.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image112.png" alt="imagen"></p>
<p>La segunda l√≠nea muestra el n√∫mero de milisegundos desde que se restableci√≥ el<code>Arduino</code>.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// include the library code:</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;LiquidCrystal.h&gt;</span></span>

<span class="hljs-comment">// initialize the library with the numbers of the interface pins</span>
<span class="hljs-function"><span class="hljs-built_in">LiquidCrystal</span> <span class="hljs-title">lcd</span><span class="hljs-params">(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>)</span></span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// set up the LCD's number of columns and rows:</span>
  lcd.<span class="hljs-built_in">begin</span>(<span class="hljs-number">16</span>, <span class="hljs-number">2</span>);
  <span class="hljs-comment">// Print a message to the LCD.</span>
  lcd.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Hello, World!"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// set the cursor to column 0, line 1</span>
  <span class="hljs-comment">// (note: line 1 is the second row, since counting begins with 0):</span>
  lcd.<span class="hljs-built_in">setCursor</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
  <span class="hljs-comment">// print the number of seconds since reset:</span>
  lcd.<span class="hljs-built_in">print</span>(<span class="hljs-built_in">millis</span>() / <span class="hljs-number">1000</span>);
}
</div></code></pre>
<h2 id="led-con-74hc595">LED con 74HC595</h2>
<p>Veremos c√≥mo utilizar ocho LEDs rojos grandes con un Arduino UNO sin necesidad de sacrificar las 8 salidas disponibles.</p>
<p>Aunque podr√≠as conectar ocho LEDs con una resistencia a pines del Arduino UNO, r√°pidamente te quedar√≠as sin pines en tu placa si ya tienes varios dispositivos conectados. Si no tienes muchas cosas conectadas al UNO, est√° bien hacerlo, pero a menudo queremos incorporar botones, sensores, servos, etc. y antes de darte cuenta, te quedas sin pines disponibles.</p>
<p>Por lo tanto, en lugar de hacer eso, usar√°s un chip llamado <code>74HC595</code>, que es un convertidor serial a paralelo. Este chip cuenta con ocho salidas (perfecto) y tres entradas que se utilizan para cargar datos poco a poco.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image116.jpeg" alt="imagen"></p>
<p>Este chip hace un poco m√°s lento para los LEDs (s√≥lo se puede cambiar el LED unos 500.000 veces por segundo en lugar de 8.000.000 por segundo) pero todav√≠a es muy r√°pido, forma m√°s r√°pido que los seres humanos puede detectar, as√≠que vale!</p>
<p>Componente necesario:</p>
<blockquote>
<ul>
<li>(1) x Elegoo Uno R3</li>
<li>Protoboard</li>
<li>leds</li>
<li>resistencias de 220 ohmios</li>
<li>IC x 74hc595</li>
<li>M M cables (cables de puente de macho a macho)</li>
</ul>
</blockquote>
<h3 id="74hc595-registro-de-desplazamiento">74HC595 Registro de desplazamiento</h3>
<p>El registro de desplazamiento es un tipo de chip que tiene lo que puede considerarse como posiciones de memoria ocho, cada uno de ellos puede ser un 1 o un 0. Para definir cada uno de estos valores encendido o apagado, alimentamos en los datos mediante los pines del chip 'Datos' y 'El reloj'.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image117.jpeg" alt="imagen"></p>
<p>El pin de reloj debe recibir ocho pulsos. En cada pulso, si el pin de datos es alto, entonces un 1 obtiene empujado en el registro de desplazamiento; de lo contrario, un 0. Cuando se han recibido los ocho impulsos, permitiendo el pin 'Pestillo' copia esos ocho valores en el registro de cierre. Esto es necesario; de lo contrario, parpadean mal los LEDs como se carga los datos en el registro de desplazamiento.</p>
<p>El chip tambi√©n tiene un pin de salida activado (OE), que se utiliza para activar o desactivar las salidas a la vez. Podr√≠a conectar esto a un pin PWM capaz UNO y usar 'analogWrite' para controlar el brillo de los LEDs. Este pin es baja activa, por lo que nos ate a la tierra GND.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image118.jpeg" alt="imagen"></p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<h3 id="esquema">Esquema</h3>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image119.jpeg" alt="imagen"></p>
<p>Ya que tenemos ocho LEDs y ocho resistencias para conectar, hay realmente muy pocas conexiones a realizar.</p>
<p>Es probablemente m√°s f√°cil poner el <strong>chip 74HC595</strong> en primer lugar, como casi todo lo dem√°s se conecta a √©l. Ponerlo de modo que la muesca en forma de U poco hacia la parte superior de la placa.</p>
<p>Pin 1 del chip es a la izquierda de esta muesca.
Digital 12 del UNO va al pin #14 del registro de desplazamiento
Digital 11 del UNO va al pin #12 del registro de desplazamiento</p>
<p>9 digital a partir de la UNO va al pin #11 del registro de desplazamiento</p>
<p>Todos sino una de las salidas de la IC est√° en el lado izquierdo del chip. Por lo tanto, para facilitar la conexi√≥n, es donde est√°n los LEDs, tambi√©n.</p>
<p>Despu√©s de la viruta, poner las resistencias en su lugar. Usted necesita tener cuidado de que ninguno de los cables de las resistencias tocan. Usted debe comprobar esto otra vez antes de conectar la energ√≠a a la ONU. Si le resulta dif√≠cil organizar las resistencias sin sus conductores tocando, entonces ayuda a acortar los cables que est√°n mintiendo m√°s cercanos a la superficie de la placa.</p>
<p>A continuaci√≥n, coloque los LEDs en la protoboard. Cuanto m√°s positivo lleva LED debe ser hacia el chip, de cualquier lado de la placa est√°n en.</p>
<p>Conecte los conductores del puente como se muestra arriba. No olvide que va desde el pin 8 del IC a la columna GND de la placa.</p>
<p>Carga el bosquejo aparece un poco m√°s adelante y probar. Cada LED debe encenderse alternadamente hasta que todos los LEDs est√°n encendidos y luego se apagara y el ciclo se repite.</p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p>Despu√©s de cableado, por favor, abra el programa en el c√≥digo de carpeta lecci√≥n 24 8 LED con 74HC595 y haga clic en UPLOAD para cargar el programa. Ver Lecci√≥n 2 para m√°s detalles sobre el programa cargar si hay alg√∫n error.</p>
<p>Lo primero que hacemos es definir los tres pernos que vamos a utilizar. Estos son los UNO salidas digitales que se conectar√°n a los pines de datos, reloj y cierre de los 74HC595.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> latchPin = <span class="hljs-number">11</span>;
clockPin <span class="hljs-keyword">int</span> = <span class="hljs-number">9</span>;
<span class="hljs-keyword">int</span> dataPin = <span class="hljs-number">12</span>;
</div></code></pre>
<p>A continuaci√≥n, se define una variable llamada 'leds'. Esto se utiliza para sostener el patr√≥n de que LED actualmente es activado o desactivados. Datos de tipo 'byte' representan n√∫meros de ocho bits. Cada bit puede estar encendido o apagado, esto es perfecto para realizar un seguimiento de cu√°les de nuestros ocho LEDs son on u off.</p>
<p>leds de byte = 0;</p>
<p>La funci√≥n de <strong>setup</strong> s√≥lo establece los tres pernos que estamos utilizando para ser de salidas digitales.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span> (latchPin, salida);
  <span class="hljs-built_in">pinMode</span> (dataPin, salida);
  <span class="hljs-built_in">pinMode</span> (clockPin, salida);
}
</div></code></pre>
<p>La <strong>funci√≥n loop</strong> inicialmente apaga todos los LEDs, al darle a los variable 'leds' el valor 0. A continuaci√≥n, llama 'updateShiftRegister' que enviar√° el patr√≥n de 'leds' para el registro de desplazamiento para que el LED se apague. Se tratar√° con 'updateShiftRegister' funcionamiento m√°s adelante.</p>
<p>La funci√≥n loop hace una pausa de medio segundo y entonces empieza a contar de 0 a 7 usando el bucle 'for' y la variable 'i'. Cada vez utiliza la funci√≥n de<code>Arduino</code> 'verdadera' para establecer el bit que controla ese LED en la variable 'leds'. A continuaci√≥n tambi√©n llama 'updateShiftRegister' para que los leds actualizar para reflejar lo que est√° en la variable 'leds'.</p>
<p>Hay entonces medio segundo de retraso antes de 'i' se incrementa y se ilumina el LED pr√≥ximo.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  LED = <span class="hljs-number">0</span>;
  updateShiftRegister();
  Delay(<span class="hljs-number">500</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i ++)
    {
      <span class="hljs-built_in">bitSet</span>(leds, i);
      updateShiftRegister();
      Delay(<span class="hljs-number">500</span>);
    }
}
</div></code></pre>
<p>La funci√≥n 'updateShiftRegister', en primer lugar se establece la latchPin baja, entonces llama al UNO funci√≥n 'shiftOut' antes de poner el 'latchPin' alta otra vez. Esto toma cuatro par√°metros, los dos primeros son los pines para datos y el reloj respectivamente.</p>
<p>El tercer par√°metro especifica que final de los datos que desea iniciar en el. Vamos a empezar con la derecha m√°s poco, que se conoce como el 'Bit menos significativo' (LSB).</p>
<p>El √∫ltimo par√°metro es los datos reales para ser cambiado de puesto en el registro de desplazamiento, que en este caso es 'leds'.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateShiftRegister</span><span class="hljs-params">()</span>
</span>{
<span class="hljs-built_in">digitalWrite</span> (latchPin, bajo);
<span class="hljs-built_in">shiftOut</span> (dataPin, clockPin, LSBFIRST, leds);
<span class="hljs-built_in">digitalWrite</span> (latchPin, <span class="hljs-literal">HIGH</span>);
}
</div></code></pre>
<p>Si usted dese√≥ dar vuelta a uno de los LED apagado en lugar, llamar√≠a una funci√≥n similar de<code>Arduino</code> (bitClear) con la variable de 'leds'. Esto ajustar√° ese poco de 'leds' para ser 0 y entonces s√≥lo necesitar√° seguir con una llamada a 'updateShiftRegister' para actualizar la actual LED.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image120.jpeg" alt="imagen"></p>
<h1 id="interruptor-de-bola">Interruptor de bola</h1>
<p>Los sensores de inclinaci√≥n (interruptor de bola de inclinaci√≥n) permiten detectar orientaci√≥n o inclinaci√≥n. Son peque√±os, econ√≥micos, de bajo consumo y f√°ciles de usar. Si se usan correctamente, no se desgastar√°n. Su simplicidad los hace populares para los juguetes, los admin√≠culos y los aparatos. A veces, se conocen como &quot;interruptores de mercurio&quot;, &quot;interruptores de inclinaci√≥n&quot; o &quot;sensores de bola rodante&quot; por razones obvias.</p>
<h2 id="componentes-requeridos">Componentes Requeridos</h2>
<pre class="hljs"><code><div>(1) x Placa``Arduino`` UNO
(1) x interruptor de inclinaci√≥n bola
(2) x F-M wires (cables de hembra a macho DuPont)
</div></code></pre>
<h2 id="funcionamiento">Funcionamiento</h2>
<p>Se componen generalmente de una cavidad de una cierta clase (cil√≠ndrica es popular, aunque no siempre) con una masa libre conductora adentro, tal como una gota del mercurio o bola rodante. Un extremo de la cavidad tiene dos elementos conductores (polos). Cuando el sensor est√° orientado de tal manera que dicho extremo est√° hacia abajo, la masa rueda sobre los polos y los cortocircuitos, actuando como un interruptor de tiro.</p>
<p>Aunque no es tan preciso ni flexible como un aceler√≥metro completo, los interruptores de inclinaci√≥n pueden detectar movimiento u orientaci√≥n. Otro beneficio es que los grandes pueden cambiar de energ√≠a por su cuenta. Los aceler√≥metros, por otro lado, producen voltaje digital o anal√≥gico que luego deben analizarse utilizando circuitos extra.</p>
<h2 id="conexi%C3%B3n">Conexi√≥n</h2>
<h2 id="esquema">Esquema</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image80.jpeg" alt="imagen"></p>
<h2 id="diagrama-de-conexiones">Diagrama de conexiones</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image81.jpeg" alt="imagen"></p>
<h2 id="c%C3%B3digo">C√≥digo</h2>
<p>Despu√©s de efectuar el cableado, por favor, abra el programa en el c√≥digo de carpeta lecci√≥n 8 interruptor de la bola y haga clic en UPLOAD para cargar el programa. Ver Lecci√≥n 2 para obtener m√°s informaci√≥n sobre programa cargar si hay alg√∫n error.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image82.jpeg" alt="imagen"></p>
<h1 id="boton">Boton</h1>
<p>En esta lecci√≥n, aprenderemos a utilizar los botones con entradas digitales para  encender y apagar un LED.</p>
<ul>
<li>Al presionar el primer bot√≥n se encender√° el LED</li>
<li>Al pulsar el otro bot√≥n se apagar√° el LED.</li>
</ul>
<h2 id="componentes">Componentes</h2>
<p>Antes de comenzar necesitaremos los siguientes componentes:</p>
<table>
<thead>
<tr>
<th>cantidad</th>
<th>componente</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Placa<code>Arduino</code> UNO</td>
</tr>
<tr>
<td>1</td>
<td>protoboard</td>
</tr>
<tr>
<td>1</td>
<td>LED rojo</td>
</tr>
<tr>
<td>1</td>
<td>resistencia de 220 ohmios</td>
</tr>
<tr>
<td>2</td>
<td>interruptores</td>
</tr>
<tr>
<td>7</td>
<td>cables jumper</td>
</tr>
</tbody>
</table>
<h3 id="pulsadores">Pulsadores</h3>
<p>Los interruptores son componentes muy simples. Cuando pulse un bot√≥n, conectan dos contactos para que la electricidad fluya a trav√©s de ellos. Los interruptores de esta lecci√≥n tienen <strong>cuatro conexiones</strong>, que pueden ser un poco confusas.</p>
<p>En realidad, hay realmente dos conexiones el√©ctricas.</p>
<ul>
<li>Los pines B y C est√°n siempre conectados entre s√≠, al igual que A y D.</li>
<li>Al pulsar el bot√≥n, se conectan los 4.</li>
<li>En realidad dos de los pines no los necesitamos</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image67.jpeg" alt="imagen"></p>
<h2 id="esquema-de-conexi%C3%B3n">Esquema de conexi√≥n</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image68.jpeg" alt="bg contain"></p>
<h2 id="diagrama-de-cableado">Diagrama de cableado</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image69.jpeg" alt="imagen"></p>
<h2 id="las-conexiones-que-vamos-a-tener-que-realizar-son-las-siguientes">Las conexiones que vamos a tener que realizar son las siguientes:</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image70.jpeg" alt="imagen"></p>
<p>Aunque los cuerpos de los interruptores son cuadrados, los pasadores sobresalen de los lados opuestos del interruptor.</p>
<p>Esto significa que los pines s√≥lo estar√°n lo suficientemente separados cuando se colocan correctamente en la placa de pruebas.
Recuerde que el LED tiene que tener el cable negativo m√°s corto a la izquierda.</p>
<h2 id="explicaci%C3%B3n-del-c%C3%B3digo">Explicaci√≥n del c√≥digo</h2>
<ul>
<li>Pulsando el bot√≥n izquierdo se encender√° el <strong>LED</strong>.</li>
<li>Pulsando el bot√≥n derecho apagar√°.</li>
</ul>
<p>La primera parte del proyecto define tres variables para las tres patas que se van a utilizar. El 'ledPin' es el pin de salida y 'pinBotonA' se refiere al interruptor m√°s cerca de la parte superior de la placa y 'buttonBpin' para el otro interruptor.</p>
<p>La funci√≥n de <strong>setup</strong> define el ledPin como una salida normal, pero ahora tenemos las dos entradas para ocuparse.</p>
<p>En este caso, utilizamos el conjunto el pinMode ser <strong>INPUT_PULLUP</strong> como este:</p>
<ul>
<li>El modo pin de <strong>INPUT_PULLUP</strong> significa que el pin debe ser utilizado como una entrada, pero que si nada mas se conecta a la entrada, la entrada tendra el valor <strong>HIGH</strong>.</li>
<li>En otras palabras, el valor predeterminado de la entrada es <strong>HIGH</strong>, a menos que se ponga a <strong>LOW</strong> al pulsar el bot√≥n.</li>
</ul>
<h1 id="conexi%C3%B3n-a-tierra">Conexi√≥n a tierra</h1>
<p>Por esta raz√≥n los interruptores est√°n conectados a tierra. Cuando un interruptor se presiona, se conecta la clavija de entrada a la tierra, para que ya no es alta.</p>
<p>Puesto que la entrada es normalmente alta y va s√≥lo baja cuando se pulsa el bot√≥n, la l√≥gica es un poco boca abajo. Nosotros nos encargaremos de esto en la <strong>funci√≥n loop</strong></p>
<h1 id="funci%C3%B3n-loop">Funci√≥n Loop</h1>
<p>En la <strong>funci√≥n loop</strong> hay dos declaraciones de 'si'. Uno para cada bot√≥n. Cada uno hace un 'digitalRead' en la entrada adecuada.</p>
<p>Recuerde que si se presiona el bot√≥n, la entrada correspondiente ser√° baja, si el bot√≥n A es bajo, entonces  <strong>digitalWrite</strong> pone el valor HIGH el PIN al que tenemos conectado el LED, y este se enciende.</p>
<h2 id="c%C3%B3digo-completo">C√≥digo completo</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> ledPin = <span class="hljs-number">5</span>; <span class="hljs-comment">//pin a que hemos conectado el LED</span>
<span class="hljs-keyword">int</span> pinBotonA = <span class="hljs-number">9</span>; <span class="hljs-comment">//pin al que hemos conectado el boton A</span>
<span class="hljs-keyword">int</span> pinBotonB = <span class="hljs-number">8</span>; <span class="hljs-comment">//pin al que hemos conectado el boton B</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">pinMode</span>(ledPin, <span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(pinBotonA, <span class="hljs-literal">INPUT_PULLUP</span>);
  <span class="hljs-built_in">pinMode</span>(pinBotonB, <span class="hljs-literal">INPUT_PULLUP</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">digitalRead</span>(pinBotonA) == <span class="hljs-literal">LOW</span>)
  {
    <span class="hljs-built_in">digitalWrite</span>(ledPin, <span class="hljs-literal">HIGH</span>);
  }
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">digitalRead</span>(pinBotonB) == <span class="hljs-literal">LOW</span>)
  {
    <span class="hljs-built_in">digitalWrite</span>(ledPin, <span class="hljs-literal">LOW</span>);
  }
}
</div></code></pre>
<h1 id="joystick-anal%C3%B3gico">Joystick anal√≥gico</h1>
<p>Los joysticks anal√≥gicos pueden detectar movimientos en m√∫ltiples direcciones y con diferentes niveles de intensidad. Esto se logra mediante sensores que registran la posici√≥n y la fuerza aplicada al joystick.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-12-02-16-13-12.png" alt=""></p>
<h2 id="pines-del-joystick">Pines del Joystick</h2>
<p>Necesitamos 5 conexiones entre el joystick y la placa<code>Arduino</code>.</p>
<p>Los pines a conectar son:</p>
<ul>
<li><code>Sel</code> (Selecci√≥n): Este pin es el bot√≥n de selecci√≥n o pulsador del joystick.
Con√©ctalo a un pin digital en tu Arduino (por ejemplo, pin 2).</li>
<li><code>Y</code> (Eje Y): Este pin proporciona una salida anal√≥gica que var√≠a seg√∫n el movimiento del joystick en el eje Y (arriba y abajo). Con√©ctalo a uno de los pines anal√≥gicos en tu Arduino (por ejemplo, A0).</li>
<li><code>X</code> (Eje X): Este pin proporciona una salida anal√≥gica que var√≠a seg√∫n el movimiento del joystick en el eje X (izquierda y derecha). Con√©ctalo a otro pin anal√≥gico en tu Arduino (por ejemplo, A1).</li>
<li><code>Voltaje</code>: Este pin suministra el voltaje de alimentaci√≥n para el joystick.
Con√©ctalo a la fuente de alimentaci√≥n de 5V en tu Arduino.</li>
<li><code>Tierra</code>: Este pin se conecta a tierra (GND) para completar el circuito.
Con√©ctalo al pin de tierra (GND) en tu Arduino.</li>
</ul>
<p>Tenemos que usar pines<code>Arduino</code> <strong>anal√≥gicos</strong> para leer los datos de los pines que reconocen el movimiento X / Y (vertical y horizontal), puesto que puedo tener diferentes valores (por ejemplo, moverse m√°s r√°pido o lento).</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-07-09-39-52.png" alt="imagen"></p>
<p>En cambio, para detectar si pulsamos o no el bot√≥n, es suficiente un pin <strong>digital</strong>, puesto que solo tendremos dos valores (pulsado o no pulsado).</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image98.jpeg" alt="imagen"></p>
<h2 id="esquema">Esquema</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image99.jpeg" alt="imagen"></p>
<h2 id="diagrama-de-cableado">Diagrama de cableado</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image100.jpeg" alt="imagen"></p>
<h2 id="c%C3%B3digo">C√≥digo</h2>
<pre class="hljs"><code><div><span class="hljs-comment">//``Arduino`` pin numbers</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> SW_pin = <span class="hljs-number">2</span>; <span class="hljs-comment">// digital pin connected to switch output</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> X_pin = <span class="hljs-number">0</span>; <span class="hljs-comment">// analog pin connected to X output</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> Y_pin = <span class="hljs-number">1</span>; <span class="hljs-comment">// analog pin connected to Y output</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">pinMode</span>(SW_pin, <span class="hljs-literal">INPUT</span>);
  <span class="hljs-built_in">digitalWrite</span>(SW_pin, <span class="hljs-literal">HIGH</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Switch:  "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-built_in">digitalRead</span>(SW_pin));
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"X-axis: "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-built_in">analogRead</span>(X_pin));
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Y-axis: "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-built_in">analogRead</span>(Y_pin));
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n\n"</span>);
  <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);
}
</div></code></pre>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image101.jpeg" alt="imagen"></p>
<h2 id="comprobar-funcionamiento">Comprobar funcionamiento</h2>
<p>Haga clic en el Serial Monitor bot√≥n para encender el monitor serie. Se introducen los conceptos b√°sicos sobre el monitor serial en detalles en la lecci√≥n 1.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-07-09-45-06.png" alt="imagen"></p>
<p>El rango de valores va de 0 a 1024.</p>
<h1 id="m%C3%B3dulo-de-receptor-ir">M√≥dulo de receptor IR</h1>
<h2 id="resumen">Resumen</h2>
<p>Los <strong>mandos a distancia</strong> infrarrojos son simples y f√°ciles de usar. En este tutorial nos conectando el receptor IR para el UNO y luego usaremos una <strong>librer√≠a</strong> que fue dise√±ada para este sensor en particular.</p>
<p>En nuestro dibujo tenemos todos los c√≥digos de IR Hexadecimal que est√°n disponibles en este control remoto, tambi√©n detectar√° si el c√≥digo fue reconocido y tambi√©n si estamos manteniendo pulsada una tecla</p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<pre class="hljs"><code><div>(1) x Elegoo Uno R3
x IR modulo receptor
x IR control remoto
x F-M cables (cables de hembra a macho DuPont)√ß
</div></code></pre>
<h3 id="detectores-ir-vs-fotoc%C3%A9lulas">Detectores IR vs fotoc√©lulas</h3>
<p>Los detectores infrarrojos y las fotoc√©lulas tienen diferentes caracter√≠sticas y usos espec√≠ficos.</p>
<p>Los <code>detectores infrarrojos</code> est√°n dise√±ados para detectar la luz infrarroja y est√°n configurados para recibir se√±ales moduladas en 38 KHz, como las se√±ales de control remoto. Los detectores infrarrojos tienen una <code>salida digital</code> que indica si se detecta o no una se√±al de IR</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-16-23-58.png" alt=""></p>
<p>Por otro lado, las <code>fotoc√©lulas</code> pueden detectar luz visible en el espectro amarillo/verde y no est√°n dise√±adas espec√≠ficamente para detectar luz infrarroja. Las fotoc√©lulas act√∫an como resistencias y <code>cambian su resistencia</code> en funci√≥n de la cantidad de luz a la que est√°n expuestas.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-16-23-23.png" alt=""></p>
<h2 id="%C2%BFqu%C3%A9-podemos-medir">¬øQu√© podemos medir?</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image104.jpeg" alt="imagen"></p>
<p>Como se puede ver en estos gr√°ficos de hoja de datos, la detecci√≥n de frecuencia de peak es a 38 KHz y el pico color del LED es de 940 nm. Se puede usar desde unos 35 KHz kHz 41 pero la sensibilidad se desprender√° para que no detecte as√≠desde lejos. Asimismo, puede utilizar LEDs de 850 a 1100 nm pero no funcionan tan bien como 900 a 1000nm as√≠que aseg√∫rese de obtener coincidencia de LEDs! Compruebe la ficha t√©cnica para su IR LED verificar la longitud de onda.</p>
<h2 id="esquema-de-conexiones">Esquema de conexiones</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image105.jpeg" alt="imagen"></p>
<h2 id="diagrama-de-cableado">Diagrama de cableado</h2>
<p>Hay 3 conexiones para el receptor de infrarrojos.</p>
<p>Las conexiones son: se√±al, voltaje y tierra.</p>
<ul>
<li>El &quot;-&quot; es la tierra</li>
<li>&quot;S&quot; es se√±al</li>
<li>El del medio corresponde a 5V.</li>
</ul>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image106.jpeg" alt="imagen"></p>
<h2 id="montaje">Montaje</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image107.jpeg" alt="imagen"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"IRremote.h"</span></span>

<span class="hljs-keyword">int</span> receiver = <span class="hljs-number">11</span>; <span class="hljs-comment">// Signal Pin of IR receiver</span>

<span class="hljs-comment">/*--( Declare objects )--*/</span>
<span class="hljs-function">IRrecv <span class="hljs-title">irrecv</span><span class="hljs-params">(receiver)</span></span>;     <span class="hljs-comment">// create instance of 'irrecv'</span>
decode_results results;      <span class="hljs-comment">// create instance of 'decode_results'</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">translateIR</span><span class="hljs-params">()</span>
</span>{

  <span class="hljs-keyword">switch</span>(results.value)

  {
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFA25D</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"POWER"</span>); <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFE21D</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"FUNC/STOP"</span>); <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF629D</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"VOL+"</span>); <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF22DD</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"FAST BACK"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF02FD</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"PAUSE"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFC23D</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"FAST FORWARD"</span>);   <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFE01F</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"DOWN"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFA857</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"VOL-"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF906F</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"UP"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF9867</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"EQ"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFB04F</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"ST/REPT"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF6897</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"0"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF30CF</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"1"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF18E7</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"2"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF7A85</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"3"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF10EF</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"4"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF38C7</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"5"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF5AA5</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"6"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF42BD</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"7"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF4AB5</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"8"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFF52AD</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"9"</span>);    <span class="hljs-keyword">break</span>;
  <span class="hljs-keyword">case</span> <span class="hljs-number">0xFFFFFFFF</span>: <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">" REPEAT"</span>);<span class="hljs-keyword">break</span>;

  <span class="hljs-keyword">default</span>:
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">" other button   "</span>);

  }<span class="hljs-comment">// End Case</span>

  <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>); <span class="hljs-comment">// Do not get immediate repeat</span>

} <span class="hljs-comment">//END translateIR</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>   <span class="hljs-comment">/*-( SETUP: RUNS ONCE )-*/</span>
</span>{
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"IR Receiver Button Decode"</span>);
  irrecv.enableIRIn(); <span class="hljs-comment">// Start the receiver</span>

}<span class="hljs-comment">/*--(end setup )*/</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>   <span class="hljs-comment">/*-( LOOP: RUNS CONSTANTLY )-*/</span>
</span>{
  <span class="hljs-keyword">if</span> (irrecv.decode(&amp;results)) <span class="hljs-comment">// have we received an IR signal?</span>

  {
    translateIR();
    irrecv.resume(); <span class="hljs-comment">// receive the next value</span>
  }
}<span class="hljs-comment">/* --(end main loop )-- */</span>
</div></code></pre>
<h2 id="visualizar-datos-en-el-monitor">Visualizar datos en el monitor</h2>
<p>Haga clic en el bot√≥n <strong>Serial Monitor</strong> para encender el monitor serie. De este modo podremos ir viendo los valores recibidos.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image108.jpeg" alt="imagen"></p>
<h1 id="rel%C3%A9">Rel√©</h1>
<p>Un rel√© es un <strong>interruptor</strong> operado <strong>el√©ctricamente</strong>. Muchos rel√©s utilizan un electroim√°n para operar mec√°nicamente un interruptor, pero otros principios de funcionamiento tambi√©n se utilizan como rel√©s de estado s√≥lidos.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image150.jpeg" alt="imagen"></p>
<h3 id="rel%C3%A9">Rel√©</h3>
<h3 id="usos">Usos</h3>
<p>Los rel√©s se utilizan donde es necesario un circuito de control por una se√±al de baja potencia (con aislamiento el√©ctrico total entre el control y los circuitos controlados), o donde varios circuitos deben ser controlados por una se√±al.</p>
<p>En los sistemas modernos de energ√≠a el√©ctrica, estas funciones son realizadas por instrumentos digitales llamados &quot;rel√©s de protecci√≥n&quot;.</p>
<h2 id="rel%C3%A9-con-motor-de-coche-enarduino">Rel√© con motor de coche en<code>Arduino</code></h2>
<p>A continuaci√≥n es el esquema de c√≥mo rel√© de coche con<code>Arduino</code>.</p>
<p>Puede ser complicado insertar el rel√© en la protoboard. Tienes que doblar una de las patillas del rel√© un poco para poder insertarlo</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image151.jpeg" alt="imagen"></p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image152.jpeg" alt="imagen"></p>
<h3 id="esquema">Esquema</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image153.jpeg" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<h3 id="montaje-real">Montaje real</h3>
<p>Programa de carga, despu√©s de encender todos los interruptores de potencia. El rel√© a recoger con un sonido de timbre. Entonces, el motor girar√°. Despu√©s de un per√≠odo de tiempo, se liberar√° el rel√© y el motor se detiene.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image154.jpeg" alt="imagen"></p>
<h3 id="c%C3%B3digo-fuente">C√≥digo fuente</h3>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ENABLE 5</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIRA 3</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIRB 4</span>

<span class="hljs-keyword">int</span> i;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">//set pin direction</span>
  <span class="hljs-built_in">pinMode</span>(ENABLE,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(DIRA,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">pinMode</span>(DIRB,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{

<span class="hljs-comment">//back and forth example</span>
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"One way, then reverse"</span>);
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">// enable on</span>
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) {
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//one way</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">LOW</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">750</span>);
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">LOW</span>);  <span class="hljs-comment">//reverse</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">HIGH</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">750</span>);
  }
  <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">// disable</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);
      <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) {
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//one way</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">LOW</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">750</span>);
    <span class="hljs-built_in">digitalWrite</span>(DIRA,<span class="hljs-literal">LOW</span>);  <span class="hljs-comment">//reverse</span>
    <span class="hljs-built_in">digitalWrite</span>(DIRB,<span class="hljs-literal">HIGH</span>);
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">750</span>);
  }
    <span class="hljs-built_in">digitalWrite</span>(ENABLE,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">// disable</span>
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">3000</span>);
}

</div></code></pre>
<h1 id="sensors">Sensors</h1>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-16-42-42.png" alt=""></p>
<p>Els sensors d'Arduino s√≥n dispositius que permeten a una placa Arduino detectar i mesurar diferents <strong>variables</strong> del seu entorn. Aquests sensors poden mesurar coses com la temperatura, la humitat, la llum, la pressi√≥, el moviment, el so, la proximitat, entre d'altres.</p>
<p>Els sensors s√≥n un component clau en molts projectes d'Arduino i s√≥n utilitzats per recollir dades del m√≥n f√≠sic per a ser processats per la placa Arduino.</p>
<ul>
<li>Ultrasons</li>
<li>Llum (fotoc√®lula)</li>
<li>Humitat i temperatura</li>
</ul>
<h2 id="sensor-humedad-temperatura-dht11">Sensor humedad temperatura DHT11</h2>
<p>En este tutorial vamos a aprender c√≥mo usar un sensor de humedad y temperatura <strong>DHT11</strong>. El sensor digital de temperatura y humedad <strong>DHT11</strong> es un sensor que nos proporciona informaci√≥n de  de la temperatura y la humedad.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-12-12-18-42-31.png" alt="imagen"></p>
<h3 id="par%C3%A1metros-del-sensor">Par√°metros del sensor</h3>
<p>Cualquier magnitud que queramos leer tendr√° unas <code>caracter√≠sticas</code> de precisi√≥n, seg√∫n el sensor o instrumento que lo mide.</p>
<h3 id="humedad-relativa">Humedad relativa</h3>
<ul>
<li>Resoluci√≥n: 16 bits</li>
<li>Repetibilidad: ¬±1% H.R.</li>
<li>Precisi√≥n: 25 ¬∞ C ¬±5% hr</li>
<li>Intercambiabilidad: intercambiables</li>
<li>Tiempo de respuesta: 1 / e (63%) de 25¬∫ c 6s</li>
<li>1m / s de aire 6s</li>
<li>Hist√©resis: &lt; ¬± 0.3% RH</li>
<li>Estabilidad a largo plazo: &lt; ¬± 0.5% hr / a√±o en</li>
</ul>
<h3 id="temperatura">Temperatura</h3>
<table>
<thead>
<tr>
<th>Magnitud</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Resoluci√≥n:</td>
<td>16 bits</td>
</tr>
<tr>
<td>Repetibilidad:</td>
<td>¬±0. 2 ¬∞ C</td>
</tr>
<tr>
<td>Rango:</td>
<td>25 ¬∞ C ¬±2¬∞ c</td>
</tr>
<tr>
<td>Tiempo de respuesta:</td>
<td>1 / e (63%) 10S</td>
</tr>
</tbody>
</table>
<h3 id="caracter%C3%ADsticas-el%C3%A9ctricas">Caracter√≠sticas el√©ctricas</h3>
<p>Para funcionar, el sensor necesita corriente el√©ctrica.</p>
<table>
<thead>
<tr>
<th>Magnitud</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fuente de alimentaci√≥n:</td>
<td>DC 3.5 ~ 5.5V</td>
</tr>
<tr>
<td>Corriente:</td>
<td>medici√≥n 0.3mA (60ŒºA en espera</td>
</tr>
<tr>
<td>Periodo de muestreo:</td>
<td>m√°s de 2 segundos</td>
</tr>
</tbody>
</table>
<h3 id="descripci%C3%B3n-de-pines">Descripci√≥n de pines</h3>
<p>El sensor dispone de 3 pines para recibir corriente el√©ctrica y comunicarse con la placa arduino. Estos pines son:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-11-09-57.png" alt=""></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>VDD</td>
<td>Lo conectaremos a 5 V</td>
</tr>
<tr>
<td>DATA</td>
<td>Lo conectaremos a un pin de datos. En este caso D2</td>
</tr>
<tr>
<td>GND</td>
<td>Lo conectaremos a tierra</td>
</tr>
</tbody>
</table>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image94.jpeg" alt="bg contain"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image95.jpeg" alt="bg contain"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image96.jpeg" alt="bg contain"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p>El siguiente c√≥digo va a utilizar el sensor que hemos conectado para leer la temperatura y la humedad que est√° midiendo el sensor.</p>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;dht_nonblocking.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DHT_SENSOR_TYPE DHT_TYPE_11</span>

<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> DHT_SENSOR_PIN = <span class="hljs-number">2</span>;
<span class="hljs-function">DHT_nonblocking <span class="hljs-title">dht_sensor</span><span class="hljs-params">( DHT_SENSOR_PIN, DHT_SENSOR_TYPE )</span></span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">( )</span>
</span>{
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>( <span class="hljs-number">9600</span>);
}

<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">medir</span> <span class="hljs-params">( <span class="hljs-keyword">float</span> *temperature, <span class="hljs-keyword">float</span> *humidity )</span>
</span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> measurement_timestamp = <span class="hljs-built_in">millis</span>( );

  <span class="hljs-comment">/* Measure once every four seconds. */</span>
  <span class="hljs-keyword">if</span>( <span class="hljs-built_in">millis</span>( ) - measurement_timestamp &gt; <span class="hljs-number">3000u</span>l )
  {
    <span class="hljs-keyword">if</span>( dht_sensor.measure( temperature, humidity ) == <span class="hljs-literal">true</span> )
    {
      measurement_timestamp = <span class="hljs-built_in">millis</span>( );
      <span class="hljs-keyword">return</span>( <span class="hljs-literal">true</span> );
    }
  }

  <span class="hljs-keyword">return</span>( <span class="hljs-literal">false</span> );
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">( )</span>
</span>{
  <span class="hljs-keyword">float</span> temperature;
  <span class="hljs-keyword">float</span> humidity;

  <span class="hljs-keyword">if</span>( medir( &amp;temperature, &amp;humidity ) == <span class="hljs-literal">true</span> )
  {
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>( <span class="hljs-string">"T = "</span> );
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>( temperatura, <span class="hljs-number">1</span> );
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>( <span class="hljs-string">" deg. C, H = "</span> );
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>( humedad, <span class="hljs-number">1</span> );
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>( <span class="hljs-string">"%"</span> );
  }
}
</div></code></pre>
<h3 id="salida-en-el-monitor">Salida en el monitor</h3>
<p>Los valores medidos se mostrar√°n por pantalla en el monitor serie. El monitor serie lo tenemos que abrir desde el IDE de arduino.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-11-14-40.png" alt=""></p>
<p>A continuaci√≥n se nos abrir√° una pantalla en la que podremos ver los datos que nuestro programa est√° escribiendo.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image97.jpeg" alt="imagen"></p>
<h2 id="sensor-luz-fotocelula">Sensor luz (fotocelula)</h2>
<h3 id="resumen">Resumen</h3>
<p>Vamos a aprender como medir la intensidad de la luz utilizando una entrada anal√≥gica. Con lo que aprenderemos, podremos posteriormente utilizar el nivel de luz para controlar el apagar un LED o encenderlo cuando no haya luz, por ejemplo.</p>
<p>Los componentes que utilizaremos son los siguientes:</p>
<ul>
<li><input type="checkbox" id="checkbox3" checked="true"><label for="checkbox3">Elegoo Uno R3</label></li>
<li><input type="checkbox" id="checkbox4" checked="true"><label for="checkbox4">Protoboard</label></li>
<li><input type="checkbox" id="checkbox5" checked="true"><label for="checkbox5">LEDs</label></li>
<li><input type="checkbox" id="checkbox6" checked="true"><label for="checkbox6">Resistencias de 220 ohmios</label></li>
<li><input type="checkbox" id="checkbox7" checked="true"><label for="checkbox7">Resistencia de 1 kohm (1000 ohms)</label></li>
<li><input type="checkbox" id="checkbox8" checked="true"><label for="checkbox8">1 x fotoresistor o LDR (fotoc√©lula)</label></li>
<li><input type="checkbox" id="checkbox9" checked="true"><label for="checkbox9">16 x M M cables (cables de puente de macho a macho)</label></li>
</ul>
<h3 id="fotoc%C3%A9lula">Fotoc√©lula</h3>
<p>Una fotorresistencia o <strong>LDR</strong> (por sus siglas en ingl√©s ‚Äúlight-dependent resistor‚Äù) es un componente electr√≥nico cuya resistencia var√≠a en funci√≥n de la luz. Se trata de un sensor que act√∫a como una resistencia variable en funci√≥n de la luz que capta.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image124.jpeg" alt="imagen"></p>
<p>Esta tiene una resistencia de cerca de 50 kŒ© en cerca de oscuridad y Œ© 500 en luz brillante. Para convertir este valor variable de la resistencia en algo que podemos medir en la entrada anal√≥gica de la Junta de un R3 de UNO, debe ser convertida en un voltaje.</p>
<p>La forma m√°s sencilla de hacerlo es combinar con una resistencia fija.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image125.jpeg" alt="imagen"></p>
<p>La resistencia y fotoc√©lula junto se comportan como una sola. Cuando la luz es muy brillante, entonces la resistencia de la fotoc√©lula es muy baja en comparaci√≥n con la resistencia de valor fijo, y as√≠es como si el bote se dio vuelta a m√°ximo.</p>
<p>Cuando la fotoc√©lula est√° en una luz apagada, la resistencia es mayor que la resistencia fija de 1 kŒ© y es como si el recipiente estuviera girando hacia GND. Cargue el croquis dado en la siguiente secci√≥n y trate de cubrir la fotoc√©lula con el dedo y, a continuaci√≥n, sost√©ngalo cerca de una fuente de luz.</p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-20-22-13-48.png" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-20-22-14-10.png" alt="imagen"></p>
<h3 id="c%C3%B3digo-para-leer-valor-de-un-ldr">C√≥digo para leer valor de un LDR</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> sensorPin = A0; <span class="hljs-comment">// select the input pin for LDR</span>

<span class="hljs-keyword">int</span> sensorValue = <span class="hljs-number">0</span>; <span class="hljs-comment">// variable to store the value coming from the sensor</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>); <span class="hljs-comment">//sets serial port for communication</span>
}
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
   sensorValue = <span class="hljs-built_in">analogRead</span>(sensorPin); <span class="hljs-comment">// read the value from the sensor</span>
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(sensorValue); <span class="hljs-comment">//prints the values coming from the sensor on the screen</span>
   <span class="hljs-built_in">delay</span>(<span class="hljs-number">100</span>);
}
</div></code></pre>
<h3 id="c%C3%B3digo-encender-un-led-cuando-la-luz-es-baja">C√≥digo encender un LED cuando la luz es baja</h3>
<p>Encender LED cuando la luz es baja y viceversa.</p>
<ul>
<li>Para ello, deberemos colocar un LED en el pin 13, con su correspondiente resistencia.</li>
<li>El umbral es el valor a partir del cual vamos a decidir si encender la bombilla o no</li>
<li>En este caso est√° fijado a <strong>100 Œ©</strong>.</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> LEDPin = <span class="hljs-number">13</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> LDRPin = A0;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> umbral = <span class="hljs-number">100</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-built_in">pinMode</span>(LEDPin, <span class="hljs-literal">OUTPUT</span>);
   <span class="hljs-built_in">pinMode</span>(LDRPin, <span class="hljs-literal">INPUT</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">int</span> input = <span class="hljs-built_in">analogRead</span>(LDRPin);
   <span class="hljs-keyword">if</span> (input &gt; umbral) {
      <span class="hljs-built_in">digitalWrite</span>(LEDPin, <span class="hljs-literal">HIGH</span>);
   }
   <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">digitalWrite</span>(LEDPin, <span class="hljs-literal">LOW</span>);
   }
}
</div></code></pre>
<p>Lo mismo, pero con un valor de umbral fijado por nosotros.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> <span class="hljs-keyword">long</span> A = <span class="hljs-number">1000</span>;     <span class="hljs-comment">//Resistencia en oscuridad en KŒ©</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> B = <span class="hljs-number">15</span>;        <span class="hljs-comment">//Resistencia a la luz (10 Lux) en KŒ©</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> Rc = <span class="hljs-number">10</span>;       <span class="hljs-comment">//Resistencia calibracion en KŒ©</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> LDRPin = A0;   <span class="hljs-comment">//Pin del LDR</span>

<span class="hljs-keyword">int</span> V;
<span class="hljs-keyword">int</span> ilum;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
   V = <span class="hljs-built_in">analogRead</span>(LDRPin);

   <span class="hljs-comment">//ilum = ((long)(1024-V)*A*10)/((long)B*Rc*V);  //usar si LDR entre GND y A0</span>
   ilum = ((<span class="hljs-keyword">long</span>)V*A*<span class="hljs-number">10</span>)/((<span class="hljs-keyword">long</span>)B*Rc*(<span class="hljs-number">1024</span>-V));    <span class="hljs-comment">//usar si LDR entre A0 y Vcc (como en el esquema anterior)</span>

   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(ilum);
   <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);
}
</div></code></pre>
<h2 id="sensor-ultrasonico">Sensor ultrasonico</h2>
<p>El <strong>sensor ultras√≥nico</strong> es ideal para todo tipo de proyectos que necesitan medidas de distancia, como por ejemplo evitar obst√°culos.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-27-11-16-57.png" alt=""></p>
<p>El sensor que utilizaremos se llama <code>HC-SR04</code>  e incorpora una <strong>librer√≠a</strong> dise√±ada  espec√≠ficamente para estos sensores.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/2022-12-05-10-31-48.png" alt="imagen"></p>
<h3 id="componentes-necesarios">Componentes necesarios</h3>
<p>Para hacer una prueba sencilla de funcionamiento del sensor, necesitaremos:</p>
<pre class="hljs"><code><div>(1) x Placa``Arduino`` UNO
(1) x M√≥dulo de sensor ultras√≥nico
(4) x F M cables (cables de hembra a macho DuPont)
</div></code></pre>
<h3 id="caracter%C3%ADsticas-t%C3%A9cnicas">Caracter√≠sticas t√©cnicas</h3>
<p>El m√≥dulo <strong>HC-SR04</strong> del sensor ultras√≥nico nos permite medir distancias entre 2 cm y 400 cm, con una precisi√≥n que var√≠a puede alcanzar los 3 mm.</p>
<p>El principio b√°sico del trabajo es el siguiente:</p>
<ul>
<li>Dispara una se√±al de nivel alto de al menos 10us</li>
<li>El M√≥dulo env√≠a autom√°ticamente ocho se√±ales de 40 kHz y detecta si hay una se√±al de retorno, por rebotar en alguna superficie.</li>
<li>Esta se√±al de retorno depender√° de la distancia recorrida y, por tanto, de la distancia.</li>
</ul>
<h3 id="%C2%BFc%C3%B3mo-calcula-la-distancia">¬øC√≥mo calcula la distancia?</h3>
<p>La distancia recorrida se podr√≠a calcular en funci√≥n de:</p>
<ul>
<li>La <strong>velocidad</strong> del sonido</li>
<li>El <strong>tiempo</strong> que tardar√° en ir y volver realmente es el doble de la distancia que hay al objeto.</li>
</ul>
<p>La formula que nos dar√≠a la distancia recorrida podr√≠a ser:</p>
<pre class="hljs"><code><div>distancia = (tiempo  * 340 ) / 2
</div></code></pre>
<p>El diagrama de sincronizaci√≥n se muestra a continuaci√≥n. S√≥lo tiene que suministrar un pulso de 10us corto a la entrada de activaci√≥n para iniciar el rango, y luego el m√≥dulo enviar√° una r√°faga de 8 ciclos de ultrasonido a 40 kHz y aumentar su eco. El Echo es un objeto de distancia que es el ancho de pulso y el rango en proporci√≥n.</p>
<p>Se puede calcular el rango a trav√©s del intervalo de tiempo entre la se√±al de disparo de env√≠o y la se√±al de eco de recepci√≥n. La f√≥rmula es la siguiente:</p>
<pre class="hljs"><code><div>F√≥rmula cent√≠metros: us / 58 = cent√≠metros
Pulgadas:  us / 148 = inch; O: el rango = tiempo de alto nivel * velocidad (340M / S) / 2;
</div></code></pre>
<p>Sugerimos utilizar m√°s de 60ms de ciclo de medici√≥n, con el fin de evitar la se√±al de disparo a la se√±al de eco.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image88.jpeg" alt="imagen"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-11-20-17-18-13.png" alt="bg contain"></p>
<h3 id="conexi%C3%B3n">Conexi√≥n</h3>
<p>Aqu√≠ podemos ver como conectar los cuatro pines del sensor al<code>Arduino</code> Uno.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image89.jpeg" alt="imagen"></p>
<h3 id="diagrama-de-cableado">Diagrama de cableado</h3>
<p>El diagrama de cableado es el siguiente. Recordad que utilizamos en general rojo para cables conectados a 5V y negro para 0V o tierra (GND).</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image90.jpeg" alt="imagen"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image91.jpeg" alt="bg contain"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p>Necesitaremos una <strong>librer√≠a</strong> para poder utilizar algunas funciones y comunicarnos con el sensor. Para ello, deberemos de incluirla en nuestro proyecto, de la siguiente forma:</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-17-15-41-18.png" alt="imagen"></p>
<p>Una vez inclu√≠da, ya la podemos utilizar en nuestro programa.</p>
<p>Vamos a utilizar el monitor serie para mostrar los datos por pantalla, por lo menos mientras probamos el programa.</p>
<pre class="hljs"><code><div>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"SR04.h"</span> <span class="hljs-comment">//la librer√≠a a utilizar</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TRIG_PIN 12 <span class="hljs-comment">//pines donde conectamos</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ECHO_PIN 11</span>

SR04 sr04 = SR04(ECHO_PIN,TRIG_PIN);
<span class="hljs-keyword">long</span> distancia;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">9600</span>);
   <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
   distancia=sr04.Distance(); <span class="hljs-comment">//Devuelve la distancia en Cm.</span>
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(distancia);
   <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"cm"</span>);
   <span class="hljs-built_in">delay</span>(<span class="hljs-number">1000</span>); <span class="hljs-comment">//Esperaremos 1s entre mediciones</span>
}

</div></code></pre>
<p>Abriendo el monitor y podemos ver los datos que vamos imprimiendo desde el programa</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image92.jpeg" alt="imagen"></p>
<h2 id="termistor">Termistor</h2>
<p>Un <strong>termistor</strong> es un resistor t√©rmico - un resistor que cambia su resistencia con la temperatura. T√©cnicamente, los resistores son termistores - sus cambios de resistencia con temperatura - pero el cambio es generalmente muy peque√±o y dif√≠cil de medir.</p>
<h3 id="tipos-de-termistores">Tipos de termistores</h3>
<p>Hay dos clases de termistores:</p>
<ul>
<li>NTC (coeficiente de temperatura negativo)</li>
<li>PTC (coeficiente positivo de temperatura).</li>
</ul>
<p>En general, usaremos sensores <strong>NTC</strong> para medir la temperatura.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image113.jpeg" alt="imagen"></p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image114.jpeg" alt="bg contain"></p>
<h3 id="c%C3%B3digo">C√≥digo</h3>
<p>Antes de ejecutar esto, aseg√∫rese de que ha instalado la <strong>librer√≠a</strong> <LiquidCrystal> o volver a instalarlo, si es necesario. De lo contrario, el c√≥digo no funcionar√°.</p>
<p>Es √∫til poner una l√≠nea de comentario sobre el comando 'lcd'.</p>
<p>BSED4D5D6D7</p>
<p>LiquidCrystal lcd (7, 8, 9, 10, 11, 12);</p>
<p>Esto facilita las cosas si decides cambiar que utilizas los pernos.</p>
<p>En la <strong>funci√≥n loop</strong> ahora hay dos cosas interesantes sucediendo. En primer lugar tenemos que convertir la anal√≥gica del sensor de temperatura una temperatura real, y en segundo lugar tenemos que encontrar la manera a los mismos.</p>
<p>En primer lugar, echemos un vistazo a c√°lculo de la temperatura.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">int</span> tempReading = <span class="hljs-built_in">analogRead</span>(tempPin);
doble tempK = <span class="hljs-built_in">log</span> (<span class="hljs-number">10000.0</span> * ((<span class="hljs-number">1024.0</span>/tempReading - <span class="hljs-number">1</span>)));
tempK = <span class="hljs-number">1</span> / (<span class="hljs-number">0.001129148</span> + (<span class="hljs-number">0.000234125</span> + (<span class="hljs-number">0.0000000876741</span> * tempK * tempK)) * tempK);
<span class="hljs-keyword">float</span> tempC = tempK - <span class="hljs-number">273.15</span>;
floatfloat tempF = (tempC * <span class="hljs-number">9.0</span>) / <span class="hljs-number">5.0</span> + <span class="hljs-number">32.0</span>;
</div></code></pre>
<p>Cambio lecturas se muestra en una pantalla LCD puede ser complicado. El principal problema es que la lectura puede no ser siempre el mismo n√∫mero de d√≠gitos. Por lo tanto, si la temperatura cambia de 101,50 a 99.00 entonces el d√≠gito adicional de la lectura antigua es en peligro de quedar en la pantalla.</p>
<p>Para evitar esto, escriba la l√≠nea de la pantalla LCD cada vez el bucle.</p>
<pre class="hljs"><code><div>lcd.<span class="hljs-built_in">setCursor</span> (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
LCD.Print (<span class="hljs-string">"Temp C"</span>);
lcd.<span class="hljs-built_in">setCursor</span> (<span class="hljs-number">6</span>, <span class="hljs-number">0</span>);
LCD.Print(tempF);
</div></code></pre>
<p>El comentario bastante extra√±o sirve para recordarles de las 16 columnas de la pantalla. Luego puede imprimir una cadena de esa longitud con espacios donde ir√° la lectura real.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/media/image115.png" alt="imagen"></p>
<p>Para rellenar los espacios en blanco, establecer la posici√≥n del cursor por donde la lectura debe aparecer y luego imprimirlo.</p>
<h1 id="esp8266-nodemcu">ESP8266 NodeMCU</h1>
<p>El <code>ESP8266 NodeMCU</code> es una plataforma de hardware y software open source que permite a los usuarios crear dispositivos conectados a Internet con funciones de red WiFi de forma r√°pida y f√°cil.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-24-34.png" alt=""></p>
<p>L'<code>ESP8266</code> √©s un xip <code>Wi-Fi</code> de baix cost que s'utilitza √†mpliament en projectes de bricolatge i aplicacions <code>IoT</code>. El NodeMCU √©s una placa de desenvolupament popular basada en l'ESP8266, que proporciona una manera senzilla de prototipar i desenvolupar projectes amb aquest xip.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/image-1.png" alt="Alt text"></p>
<h2 id="componentes">Componentes</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-25-29.png" alt="bg contain"></p>
<h2 id="aplicaciones-principales">Aplicaciones principales</h2>
<ul>
<li>Dispositivos dom√©sticos inteligentes</li>
<li>Dispositivos IoT</li>
<li>Wearables</li>
<li>Juguetes conectados</li>
<li>Sistemas de seguridad</li>
<li>Termostatos</li>
<li>Sistemas de rociadores</li>
<li>Controles remotos</li>
<li>Iluminaci√≥n automatizada</li>
</ul>
<h2 id="c%C3%B3digo-fuente">C√≥digo fuente</h2>
<pre class="hljs"><code><div><span class="hljs-comment">/*
 * ESP8266 NodeMCU LED Control over WiFi Demo
 *
 * https://circuits4you.com
 */</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ESP8266WiFi.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;WiFiClient.h&gt;</span></span>

<span class="hljs-comment">//ESP Web Server Library to host a web page</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ESP8266WebServer.h&gt;</span></span>

<span class="hljs-comment">//---------------------------------------------------------------</span>
<span class="hljs-comment">//Our HTML webpage contents in program memory</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> MAIN_page[] PROGMEM = <span class="hljs-string">R"=====(
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
&lt;center&gt;
&lt;h1&gt;WiFi LED on off demo: 1&lt;/h1&gt;&lt;br&gt;
Ciclk to turn &lt;a href="ledOn"&gt;LED ON&lt;/a&gt;&lt;br&gt;
Ciclk to turn &lt;a href="ledOff"&gt;LED OFF&lt;/a&gt;&lt;br&gt;
&lt;hr&gt;
&lt;a href="https://circuits4you.com"&gt;circuits4you.com&lt;/a&gt;
&lt;/center&gt;

&lt;/body&gt;
&lt;/html&gt;
)====="</span>;
<span class="hljs-comment">//---------------------------------------------------------------</span>
<span class="hljs-comment">//On board LED Connected to GPIO2</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED 2</span>

<span class="hljs-comment">//SSID and Password of your WiFi router</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* ssid = <span class="hljs-string">"BONDIATOTLODIA"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* password = <span class="hljs-string">"UHYD6VRg"</span>;

<span class="hljs-comment">//Declare a global object variable from the ESP8266WebServer class.</span>
<span class="hljs-function">ESP8266WebServer <span class="hljs-title">server</span><span class="hljs-params">(<span class="hljs-number">80</span>)</span></span>; <span class="hljs-comment">//Server on port 80</span>

<span class="hljs-comment">//===============================================================</span>
<span class="hljs-comment">// This routine is executed when you open its IP in browser</span>
<span class="hljs-comment">//===============================================================</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">handleRoot</span><span class="hljs-params">()</span> </span>{
 <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"You called root page"</span>);
 <span class="hljs-keyword">String</span> s = MAIN_page; <span class="hljs-comment">//Read HTML contents</span>
 server.send(<span class="hljs-number">200</span>, <span class="hljs-string">"text/html"</span>, s); <span class="hljs-comment">//Send web page</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">handleLEDon</span><span class="hljs-params">()</span> </span>{
 <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"LED on page"</span>);
 <span class="hljs-built_in">digitalWrite</span>(LED,<span class="hljs-literal">LOW</span>); <span class="hljs-comment">//LED is connected in reverse</span>
 server.send(<span class="hljs-number">200</span>, <span class="hljs-string">"text/html"</span>, <span class="hljs-string">"LED is ON"</span>); <span class="hljs-comment">//Send ADC value only to client ajax request</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">handleLEDoff</span><span class="hljs-params">()</span> </span>{
 <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"LED off page"</span>);
 <span class="hljs-built_in">digitalWrite</span>(LED,<span class="hljs-literal">HIGH</span>); <span class="hljs-comment">//LED off</span>
 server.send(<span class="hljs-number">200</span>, <span class="hljs-string">"text/html"</span>, <span class="hljs-string">"LED is OFF"</span>); <span class="hljs-comment">//Send ADC value only to client ajax request</span>
}
<span class="hljs-comment">//==============================================================</span>
<span class="hljs-comment">//                  SETUP</span>
<span class="hljs-comment">//==============================================================</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);

  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">""</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(ssid);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(password);

  <span class="hljs-built_in">WiFi</span>.<span class="hljs-built_in">begin</span>(ssid, password);     <span class="hljs-comment">//Connect to your WiFi router</span>

  <span class="hljs-comment">//Onboard LED port Direction output</span>
  <span class="hljs-built_in">pinMode</span>(LED,<span class="hljs-literal">OUTPUT</span>);
  <span class="hljs-comment">//Power on LED state off</span>
  <span class="hljs-built_in">digitalWrite</span>(LED,<span class="hljs-literal">HIGH</span>);

  <span class="hljs-comment">// Wait for connection</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-built_in">WiFi</span>.status() != WL_CONNECTED) {
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">500</span>);
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"."</span>);
  }

  <span class="hljs-comment">//If connection successful show IP address in serial monitor</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">""</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Connected to "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(ssid);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"IP address: "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-built_in">WiFi</span>.<span class="hljs-built_in">localIP</span>());  <span class="hljs-comment">//IP address assigned to your ESP</span>

  server.on(<span class="hljs-string">"/"</span>, handleRoot);      <span class="hljs-comment">//Which routine to handle at root location. This is display page</span>
  server.on(<span class="hljs-string">"/ledOn"</span>, handleLEDon); <span class="hljs-comment">//as Per  &lt;a href="ledOn"&gt;, Subroutine to be called</span>
  server.on(<span class="hljs-string">"/ledOff"</span>, handleLEDoff);

  server.<span class="hljs-built_in">begin</span>();                  <span class="hljs-comment">//Start server</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"HTTP server started"</span>);
}
<span class="hljs-comment">//==============================================================</span>
<span class="hljs-comment">//                     LOOP</span>
<span class="hljs-comment">//==============================================================</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{
  server.handleClient();          <span class="hljs-comment">//Handle client requests</span>
}
</div></code></pre>
<h2 id="subida">Subida</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-17-18-17-40.png" alt="imagen"></p>
<h2 id="salida-monitor-serie">Salida monitor serie</h2>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2022-10-17-18-17-12.png" alt="imagen"></p>
<h2 id="wifi-bridge">Wifi bridge</h2>
<pre class="hljs"><code><div><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ESP8266WiFi.h&gt;</span></span>

<span class="hljs-comment">// Set WiFi credentials</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WIFI_SSID <span class="hljs-meta-string">"YOUR WIFI NETWORK SSID"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WIFI_PASS <span class="hljs-meta-string">"YOUR WIFI PASSWORD"</span></span>

<span class="hljs-comment">// Set AP credentials</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> AP_SSID <span class="hljs-meta-string">"ESP8266"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> AP_PASS <span class="hljs-meta-string">"magicword"</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-comment">// Setup serial port</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">begin</span>(<span class="hljs-number">115200</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>();

  <span class="hljs-comment">// Begin Access Point</span>
  <span class="hljs-built_in">WiFi</span>.mode(WIFI_AP_STA);
  <span class="hljs-built_in">WiFi</span>.softAP(AP_SSID, AP_PASS);

  <span class="hljs-comment">// Begin WiFi</span>
  <span class="hljs-built_in">WiFi</span>.<span class="hljs-built_in">begin</span>(WIFI_SSID, WIFI_PASS);

  <span class="hljs-comment">// Connecting to WiFi...</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"Connecting to "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(WIFI_SSID);
  <span class="hljs-keyword">while</span> (<span class="hljs-built_in">WiFi</span>.status() != WL_CONNECTED)
  {
    <span class="hljs-built_in">delay</span>(<span class="hljs-number">100</span>);
    <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"."</span>);
  }

  <span class="hljs-comment">// Connected to WiFi</span>
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>();
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-string">"Connected!"</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"IP address for network "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(WIFI_SSID);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">" : "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">println</span>(<span class="hljs-built_in">WiFi</span>.<span class="hljs-built_in">localIP</span>());
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">"IP address for network "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(AP_SSID);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-string">" : "</span>);
  <span class="hljs-built_in">Serial</span>.<span class="hljs-built_in">print</span>(<span class="hljs-built_in">WiFi</span>.softAPIP());

}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// put your main code here, to run repeatedly:</span>

}
</div></code></pre>
<p>https://siytek.com/esp8266-ap-and-station-mode/</p>
<h1 id="projecte-wled">Projecte WLED</h1>
<p>Il¬∑luminaci√≥ de tira de LED i maneig a trav√©r d'app m√≤bil mitjan√ßant WiFi</p>
<p>El projecte <code>WLED</code> √©s un programari de codi obert que us permet controlar tires LED adre√ßables mitjan√ßant una interf√≠cie web. Es pot instal¬∑lar en diverses plataformes de maquinari, inclosa la placa NodeMCU basada en ESP8266.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-18-46.png" alt="w: 80%"></p>
<p>https://kno.wled.ge/</p>
<h1 id="installaci%C3%B3">Instal¬∑laci√≥</h1>
<p>Per utilitzar el programari <code>WLED</code> en una placa NodeMCU, primer heu de flashejar la placa amb el microprogramari WLED. Aix√≤ es pot fer utilitzant l'IDE d'Arduino o altres eines intermitents.</p>
<p>https://install.wled.me/</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-20-31.png" alt=""></p>
<h1 id="connexi%C3%B3-de-la-tira">Connexi√≥ de la tira</h1>
<p>Un cop instal¬∑lat el microprogramari, podeu connectar la vostra tira de LED a la placa NodeMCU.  Connectarem la tira de led al <code>pin D4</code>.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-29-10.png" alt=""></p>
<h1 id="programari-m%C3%B2bil">Programari m√≤bil</h1>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-21-10.png" alt=""></p>
<p>https://play.google.com/store/apps/details?id=com.aircoookie.WLED&amp;hl=es&amp;gl=US&amp;pli=1</p>
<h1 id="control">Control</h1>
<p>Des del m√≤bil podrem canviar els colors i els efectes.</p>
<p><img src="file:///e:/Docencia/apuntes/arduino/img/2023-03-15-15-22-58.png" alt="w:600"></p>

</body>
</html>
